!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Onfido=t():e.Onfido=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,o){r.apply(this,[e,t,o].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(33),n(4),n(76),n(78),n(30),n(57),n(34)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i,a,s,u,c){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n={};for(var r in e)t.indexOf(r)<0&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function p(e){var t={ready:function(){return e.onReady()},documentCapture:function(){return e.onDocumentCapture(C().documentCapture)},documentBackCapture:function(){return e.onDocumentCapture(C().documentBackCapture)},faceCapture:function(){return e.onFaceCapture(C().faceCapture)},complete:function(){var t=C(),n=(0,g.default)(t,function(e){return!!e});b.default.sendEvent("completed flow",n),e.onComplete(t)}};return(0,y.default)(t,function(e,t){return o.events.on(t,e)}),t}function d(e){(0,y.default)(e,function(e,t){o.events.off(t,e)})}function h(e,t){return t&&d(t),p(e)}Object.defineProperty(t,"__esModule",{value:!0});var v=l(i),m=l(a),y=l(s),g=l(u),b=l(c),_=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};b.default.setUp();var w=function(e){var t=e.options,r=t.useModal,o=t.isModalOpen,i=t.buttonId,a=f(t,["useModal","isModalOpen","buttonId"]),s=f(e,["options"]);return(0,n.h)(v.default,_({useModal:r,buttonId:i},{isOpen:o}),(0,n.h)(m.default,_({options:a},s)))},k=function(e){var t=e.options;return(0,n.h)(r.Provider,{store:o.store},(0,n.h)(w,{options:t}))},x=function(e,t,r){return(0,n.render)((0,n.h)(k,{options:e}),t,r)},E=function(e){var t=e.blob,n=e.documentType,r=e.id,o=e.side,i={id:r,blob:t};return n&&(i.documentType=n),o&&(i.side=o),i},O=function(e){return(0,g.default)(e,function(e){return e?E(e):null})},C=function(){return O(o.events.getCaptures())},S={};S.getCaptures=function(){return C()};var P=function(){},T={token:"some token",buttonId:"onfido-button",containerId:"onfido-mount",onReady:P,onDocumentCapture:P,onFaceCapture:P,onComplete:P};S.init=function(e){b.default.track();var t=_({},T,e),r=p(t),i=document.getElementById(t.containerId),a=x(t,i);return{options:t,element:a,eventListenersMap:r,setOptions:function(e){return this.options=_({},this.options,e),this.eventListenersMap=h(this.options,this.eventListenersMap),this.element=x(this.options,i,this.element),this.options},tearDown:function(){[{method:"document",side:"front"},{method:"document",side:"back"},{method:"face",side:null}].forEach(o.actions.deleteCaptures),(0,n.render)(null,i,this.element)}}},t.default=S,e.exports=t.default})},function(e,t,n){!function(e,n){n(t)}(this,function(e){function t(e,t,n){this.nodeName=e,this.attributes=t,this.children=n,this.key=t&&t.key}function n(e,t){if(t)for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}function r(e){return n({},e)}function o(e,t){for(var n=t.split("."),r=0;n.length>r&&e;r++)e=e[n[r]];return e}function i(e,t){return[].slice.call(e,t)}function a(e){return"function"==typeof e}function s(e){return"string"==typeof e}function u(e){return void 0===e||null===e}function c(e){return e===!1||u(e)}function l(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function f(e,n,r){var o,i,u,p=arguments.length;if(p>2){var d=typeof r;if(3===p&&"object"!==d&&"function"!==d)c(r)||(o=[r+""]);else{o=[];for(var h=2;p>h;h++){var v=arguments[h];if(!c(v)){v.join?i=v:(i=Y)[0]=v;for(var m=0;i.length>m;m++){var y=i[m],g=!(c(y)||a(y)||y instanceof t);g&&!s(y)&&(y+=""),g&&u?o[o.length-1]+=y:c(y)||(o.push(y),u=g)}}}}}else if(n&&n.children)return f(e,n,n.children);n&&(n.children&&delete n.children,a(e)||("className"in n&&(n.class=n.className,delete n.className),u=n.class,u&&!s(u)&&(n.class=l(u))));var b=new t(e,n||void 0,o);return G.vnode&&G.vnode(b),b}function p(e,t){return f(e.nodeName,n(r(e.attributes),t),arguments.length>2?i(arguments,2):e.children)}function d(e,t,n){var r=t.split("."),i=r[0];return function(t){var a,u,c,l=t&&t.currentTarget||this,f=e.state,p=f;if(u=s(n)?o(t,n):l.nodeName?(l.nodeName+l.type).match(/^input(check|rad)/i)?l.checked:l.value:t,r.length>1){for(c=0;r.length-1>c;c++)p=p[r[c]]||(p[r[c]]={});p[r[c]]=u,u=f[i]}e.setState((a={},a[i]=u,a))}}function h(e){1===re.push(e)&&(G.debounceRendering||Q)(v)}function v(){if(re.length){var e,t=re;for(re=oe,oe=t;e=t.pop();)e._dirty&&H(e)}}function m(e){var t=e&&e.nodeName;return t&&a(t)&&!(t.prototype&&t.prototype.render)}function y(e,t){return e.nodeName(S(e),t||Z)}function g(e,t){return e[ee]||(e[ee]=t||{})}function b(e){return e instanceof Text?3:e instanceof Element?1:0}function _(e){var t=e.parentNode;t&&t.removeChild(e)}function w(e,t,n,r,o){if(g(e)[t]=n,"key"!==t&&"children"!==t&&"innerHTML"!==t)if("class"!==t||o)if("style"===t){if((!n||s(n)||s(r))&&(e.style.cssText=n||""),n&&"object"==typeof n){if(!s(r))for(var i in r)i in n||(e.style[i]="");for(var i in n)e.style[i]="number"!=typeof n[i]||te[i]?n[i]:n[i]+"px"}}else if("dangerouslySetInnerHTML"===t)n&&(e.innerHTML=n.__html);else if("o"==t[0]&&"n"==t[1]){var l=e._listeners||(e._listeners={});t=J(t.substring(2)),n?l[t]||e.addEventListener(t,x,!!ne[t]):l[t]&&e.removeEventListener(t,x,!!ne[t]),l[t]=n}else if("list"!==t&&"type"!==t&&!o&&t in e)k(e,t,u(n)?"":n),c(n)&&e.removeAttribute(t);else{var f=o&&t.match(/^xlink\:?(.+)/);c(n)?f?e.removeAttributeNS("http://www.w3.org/1999/xlink",J(f[1])):e.removeAttribute(t):"object"==typeof n||a(n)||(f?e.setAttributeNS("http://www.w3.org/1999/xlink",J(f[1]),n):e.setAttribute(t,n))}else e.className=n||""}function k(e,t,n){try{e[t]=n}catch(e){}}function x(e){return this._listeners[e.type](G.event&&G.event(e)||e)}function E(e){for(var t={},n=e.attributes.length;n--;)t[e.attributes[n].name]=e.attributes[n].value;return t}function O(e,t){return s(t)?3===b(e):s(t.nodeName)?C(e,t.nodeName):a(t.nodeName)?e._componentConstructor===t.nodeName||m(t):void 0}function C(e,t){return e.normalizedNodeName===t||J(e.nodeName)===J(t)}function S(e){var t=e.nodeName.defaultProps,o=r(t||e.attributes);return t&&n(o,e.attributes),e.children&&(o.children=e.children),o}function P(e){if(_(e),1===b(e)){j(e);var t=J(e.nodeName),n=ie[t];n?n.push(e):ie[t]=[e]}}function T(e,t){var n=J(e),r=ie[n]&&ie[n].pop()||(t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e));return g(r),r.normalizedNodeName=n,r}function j(e){g(e,E(e)),e._component=e._componentConstructor=null}function M(){for(var e;e=ae.pop();)e.componentDidMount&&e.componentDidMount()}function A(e,t,n,r,o,i){se++;var a=D(e,t,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--se||M(),a}function D(e,t,n,r,o){for(var i=t&&t.attributes;m(t);)t=y(t,n);if(u(t)&&(t="",o)){if(e){if(8===e.nodeType)return e;I(e)}return document.createComment(t)}if(s(t)){if(e){if(3===b(e)&&e.parentNode)return e.nodeValue=t,e;I(e)}return document.createTextNode(t)}var c=e,l=t.nodeName,f=ue;if(a(l))return V(e,t,n,r);if(s(l)||(l+=""),ue="svg"===l||"foreignObject"!==l&&ue,e){if(!C(e,l)){for(c=T(l,ue);e.firstChild;)c.appendChild(e.firstChild);I(e)}}else c=T(l,ue);return t.children&&1===t.children.length&&"string"==typeof t.children[0]&&1===c.childNodes.length&&c.firstChild instanceof Text?c.firstChild.nodeValue=t.children[0]:(t.children||c.firstChild)&&N(c,t.children,n,r),U(c,t.attributes),i&&i.ref&&(c[ee].ref=i.ref)(c),ue=f,c}function N(e,t,n,r){var o,i,s,c,l=e.childNodes,f=[],p={},d=0,h=0,v=l.length,m=0,y=t&&t.length;if(v)for(var g=0;v>g;g++){var b=l[g],_=y?(i=b._component)?i.__key:(i=b[ee])?i.key:null:null;_||0===_?(d++,p[_]=b):f[m++]=b}if(y)for(var g=0;y>g;g++){s=t[g],c=null;var _=s.key;if(u(_)){if(!c&&m>h){for(o=h;m>o;o++)if(i=f[o],i&&O(i,s)){c=i,f[o]=void 0,o===m-1&&m--,o===h&&h++;break}!c&&m>h&&a(s.nodeName)&&r&&(c=f[h],f[h++]=void 0)}}else d&&_ in p&&(c=p[_],p[_]=void 0,d--);c=D(c,s,n,r),c!==l[g]&&e.insertBefore(c,l[g]||null)}if(d)for(var g in p)p[g]&&(f[h=m++]=p[g]);m>h&&R(f)}function R(e,t){for(var n=e.length;n--;){var r=e[n];r&&I(r,t)}}function I(e,t){var n=e._component;n?q(n,!t):(e[ee]&&e[ee].ref&&e[ee].ref(null),t||P(e),e.childNodes&&e.childNodes.length&&R(e.childNodes,t))}function U(e,t){var n=e[ee]||E(e);for(var r in n)t&&r in t||w(e,r,null,n[r],ue);if(t)for(var o in t)o in n&&t[o]==n[o]&&("value"!==o&&"checked"!==o||t[o]==e[o])||w(e,o,t[o],n[o],ue)}function L(e){var t=e.constructor.name,n=ce[t];n?n.push(e):ce[t]=[e]}function W(e,t,n){var r=new e(t,n),o=ce[e.name];if(r.props=t,r.context=n,o)for(var i=o.length;i--;)if(o[i].constructor===e){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function F(e){e._dirty||(e._dirty=!0,h(e))}function B(e,t,n,r,o){var i=e.base;e._disableRendering||(e._disableRendering=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,u(i)||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disableRendering=!1,0!==n&&(1!==n&&G.syncComponentUpdates===!1&&i?F(e):H(e,1,o)),e.__ref&&e.__ref(e))}function H(e,t,o){if(!e._disableRendering){var i,s,u=e.props,c=e.state,l=e.context,f=e.prevProps||u,p=e.prevState||c,d=e.prevContext||l,h=e.base,v=h||e.nextBase,g=e._component;if(h&&(e.props=f,e.state=p,e.context=d,2!==t&&e.shouldComponentUpdate&&e.shouldComponentUpdate(u,c,l)===!1?i=!0:e.componentWillUpdate&&e.componentWillUpdate(u,c,l),e.props=u,e.state=c,e.context=l),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!i){for(e.render&&(s=e.render(u,c,l)),e.getChildContext&&(l=n(r(l),e.getChildContext()));m(s);)s=y(s,l);var b,_,w=s&&s.nodeName;if(a(w)&&w.prototype.render){var k=g,x=S(s);k&&k.constructor===w?B(k,x,1,l):(b=k,k=W(w,x,l),k.nextBase=k.nextBase||o&&v,k._parentComponent=e,e._component=k,B(k,x,0,l),H(k,1)),_=k.base}else{var E=v;b=g,b&&(E=e._component=null),(v||1===t)&&(E&&(E._component=null),_=A(E,s,l,o||!h,v&&v.parentNode,!0))}if(v&&_!==v){var O=v.parentNode;O&&_!==O&&O.replaceChild(_,v),!b&&e._parentComponent&&(v._component=null,I(v))}if(b&&q(b,_!==v),e.base=_,_){for(var C=e,P=e;P=P._parentComponent;)C=P;_._component=C,_._componentConstructor=C.constructor}}!h||o?(ae.unshift(e),se||M()):!i&&e.componentDidUpdate&&e.componentDidUpdate(f,p,d);var T,j=e._renderCallbacks;if(j)for(;T=j.pop();)T.call(e);return s}}function V(e,t,n,r){for(var o=e&&e._component,i=e,a=o&&e._componentConstructor===t.nodeName,s=a,u=S(t);o&&!s&&(o=o._parentComponent);)s=o.constructor===t.nodeName;return!s||r&&!o._component?(o&&!a&&(q(o,!0),e=i=null),o=W(t.nodeName,u,n),e&&!o.nextBase&&(o.nextBase=e),B(o,u,1,n,r),e=o.base,i&&e!==i&&(i._component=null,I(i))):(B(o,u,3,n,r),e=o.base),e}function q(e,t){var n=e.base;e._disableRendering=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var r=e._component;r?q(r,t):n&&(n[ee]&&n[ee].ref&&n[ee].ref(null),e.nextBase=n,t&&(_(n),L(e)),R(n.childNodes,!t)),e.__ref&&e.__ref(null),e.componentDidUnmount&&e.componentDidUnmount()}function z(e,t){this._dirty=!0,this._disableRendering=!1,this.prevState=this.prevProps=this.prevContext=this.base=this.nextBase=this._parentComponent=this._component=this.__ref=this.__key=this._linkedStates=this._renderCallbacks=null,this.context=t,this.props=e,this.state=this.getInitialState&&this.getInitialState()||{}}function K(e,t,n){return A(n,e,{},!1,t)}var G={},$={},J=function(e){return $[e]||($[e]=e.toLowerCase())},X="undefined"!=typeof Promise&&Promise.resolve(),Q=X?function(e){X.then(e)}:setTimeout,Y=[],Z={},ee="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",te={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},ne={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},re=[],oe=[],ie={},ae=[],se=0,ue=!1,ce={};n(z.prototype,{linkState:function(e,t){var n=this._linkedStates||(this._linkedStates={}),r=e+"|"+t;return n[r]||(n[r]=d(this,e,t))},setState:function(e,t){var o=this.state;this.prevState||(this.prevState=r(o)),n(o,a(e)?e(o,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),F(this)},forceUpdate:function(){H(this,2)},render:function(){return null}}),e.h=f,e.cloneElement=p,e.Component=z,e.render=K,e.rerender=v,e.options=G})},function(e,t,n){!function(t,r){e.exports=r(n(171),n(1))}(this,function(e,t){function n(e,n,r){var o=n._preactCompatRendered;o&&o.parentNode!==n&&(o=null),o||(o=n.children[0]);for(var i=n.childNodes.length;i--;)n.childNodes[i]!==o&&n.removeChild(n.childNodes[i]);var a=t.render(e,n,o);return n._preactCompatRendered=a,"function"==typeof r&&r(),a&&a._component||a.base}function r(e,r,o,i){var a=t.h(W,{context:e.context},r),s=n(a,o);return i&&i(s),s}function o(e){var n=e._preactCompatRendered;return!(!n||n.parentNode!==e||(t.render(t.h(I),e,n),0))}function i(e){return l.bind(null,e)}function a(e,t){for(var n=t||0;e.length>n;n++){var r=e[n];Array.isArray(r)?a(r):r&&"object"==typeof r&&!d(r)&&(r.props&&r.type||r.attributes&&r.nodeName||r.children)&&(e[n]=l(r.type||r.nodeName,r.props||r.attributes,r.children))}}function s(e){return"function"==typeof e&&!(e.prototype&&e.prototype.render)}function u(e){return function(t,n){return C.call(e,t,n),e(t,n)}}function c(e){var t=e[z];return t?t===!0?e:t:(t=u(e),Object.defineProperty(t,z,{configurable:!0,value:!0}),t.displayName=e.displayName,t.propTypes=e.propTypes,t.defaultProps=e.defaultProps,Object.defineProperty(e,z,{configurable:!0,value:t}),t)}function l(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return a(e,2),f(t.h.apply(void 0,e))}function f(e){m(e),s(e.nodeName)&&(e.nodeName=c(e.nodeName));var t=e.attributes&&e.attributes.ref,n=t&&typeof t;return!F||"string"!==n&&"number"!==n||(e.attributes.ref=h(t,F)),v(e),e}function p(e,n){for(var r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];var i=t.h(e.nodeName||e.type,e.attributes||e.props,e.children||e.props.children);return f(t.cloneElement.apply(void 0,[i,n].concat(r)))}function d(e){return e&&(e instanceof U||e.$$typeof===A)}function h(e,t){return t._refProxies[e]||(t._refProxies[e]=function(n){t&&t.refs&&(t.refs[e]=n,null===n&&(delete t._refProxies[e],t=null))})}function v(e){var t=e.nodeName,n=e.attributes;if(n&&"string"==typeof t){var r={};for(var o in n)r[o.toLowerCase()]=o;if(r.onchange){t=t.toLowerCase();var i="input"===t&&"checkbox"===(n.type+"").toLowerCase()?"onclick":"oninput",a=r[i]||i;n[a]||(n[a]=E(n[r[i]],n[r.onchange]))}}}function m(e){var t=e.attributes;if(t){var n=t.className||t.class;n&&(t.className=n)}}function y(e,t,n){for(var r in t)n!==!0&&null==t[r]||(e[r]=t[r]);return e}function g(){}function b(e){function t(t,r){y(this,e),n&&w(this,n),T.call(this,t,r,N),k(this),O.call(this,t,r)}var n=e.mixins&&_(e.mixins);return e.statics&&y(t,e.statics),e.propTypes&&(t.propTypes=e.propTypes),e.defaultProps&&(t.defaultProps=e.defaultProps),e.getDefaultProps&&(t.defaultProps=e.getDefaultProps()),g.prototype=T.prototype,t.prototype=new g,t.prototype.constructor=t,t.displayName=e.displayName||"Component",t}function _(e){for(var t={},n=0;e.length>n;n++){var r=e[n];for(var o in r)r.hasOwnProperty(o)&&"function"==typeof r[o]&&(t[o]||(t[o]=[])).push(r[o])}return t}function w(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=E.apply(void 0,t[n].concat(e[n]||n)))}function k(e){for(var t in e){var n=e[t];"function"!=typeof n||n.__bound||D.hasOwnProperty(t)||((e[t]=n.bind(e)).__bound=!0)}}function x(e,t,n){if("string"==typeof t&&(t=e.constructor.prototype[t]),"function"==typeof t)return t.apply(e,n)}function E(){var e=arguments;return function(){for(var t,n=arguments,r=this,o=0;e.length>o;o++){var i=x(r,e[o],n);void 0!==i&&(t=i)}return t}}function O(e,t){C.call(this,e,t),this.componentWillReceiveProps=E(C,this.componentWillReceiveProps||"componentWillReceiveProps"),this.render=E(C,S,this.render||"render",P)}function C(e,t){var n=this;if(e){var r=e.children;if(Array.isArray(r)&&1===r.length&&(e.children=r[0],e.children&&"object"==typeof e.children&&(e.children.length=1,e.children[0]=e.children)),R){var o="function"==typeof this?this:this.constructor,i=this.propTypes||o.propTypes;if(i)for(var a in i)if(i.hasOwnProperty(a)&&"function"==typeof i[a]){var s=n.displayName||o.name,u=i[a](e,a,s,"prop");u&&console.error(Error(u.message||u))}}}}function S(e){F=this}function P(){F===this&&(F=null)}function T(e,n,r){t.Component.call(this,e,n),this.refs={},this._refProxies={},r!==N&&O.call(this,e,n)}e="default"in e?e.default:e;var j="15.1.0",M="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),A="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,D={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1},N={},R="undefined"!=typeof process&&process.env&&!1,I=function(){return null},U=t.h("").constructor;U.prototype.$$typeof=A,Object.defineProperty(U.prototype,"type",{get:function(){return this.nodeName},set:function(e){this.nodeName=e},configurable:!0}),Object.defineProperty(U.prototype,"props",{get:function(){return this.attributes},set:function(e){this.attributes=e},configurable:!0});var L=t.options.vnode;t.options.vnode=function(e){var t=e.attributes,n=e.nodeName;if(t||(t=e.attributes={}),"function"==typeof n){var r=n[z]===!0,o=n;if(!r)do if(o instanceof T){r=!0;break}while((o=o.prototype)&&o!==Function&&o!==Object);if(r&&(f(e),n.defaultProps))for(var i in n.defaultProps)n.defaultProps.hasOwnProperty(i)&&null==t[i]&&(t[i]=n.defaultProps[i])}Object.isExtensible&&!Object.isExtensible(t)&&(t=y({},t,!0)),t.children=e.children,L&&L(e)};var W=function(){};W.prototype.getChildContext=function(){return this.props.context},W.prototype.render=function(e){return e.children[0]};for(var F,B=[],H={map:function(e,t,n){return e=H.toArray(e),n&&n!==e&&(t=t.bind(n)),e.map(t)},forEach:function(e,t,n){e=H.toArray(e),n&&n!==e&&(t=t.bind(n)),e.forEach(t)},count:function(e){return e=H.toArray(e),e.length},only:function(e){if(e=H.toArray(e),1!==e.length)throw Error("Children.only() expects only one child.");return e[0]},toArray:function(e){return Array.isArray&&Array.isArray(e)?e:B.concat(e)}},V={},q=M.length;q--;)V[M[q]]=i(M[q]);var z="undefined"!=typeof Symbol?Symbol.for("__preactCompatWrapper"):"__preactCompatWrapper",K=function(e){return e&&e.base||e};T.prototype=new t.Component,y(T.prototype,{constructor:T,isReactComponent:{},getDOMNode:function(){return this.base},isMounted:function(){return!!this.base}});var G={version:j,DOM:V,PropTypes:e,Children:H,render:n,createClass:b,createFactory:i,createElement:l,cloneElement:p,isValidElement:d,findDOMNode:K,unmountComponentAtNode:o,Component:T,unstable_renderSubtreeIntoContainer:r};return G})},function(e,t,n){var r,o,i;!function(a,s){o=[t,n(169),n(1),n(130)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.checkIfHasWebcam=e.isDesktop=e.preventDefaultOnClick=e.impurify=e.wrapWithClass=e.getCSSMilisecsValue=e.getCSSValue=e.functionalSwitch=void 0;var u=o(t),c=o(r),l=(e.functionalSwitch=function(e,t){return(t[e]||function(e){return null})()},e.getCSSValue=function(e,t){var n=(0,u.default)(t),r=n[0],o=n[1];return o!==e&&console.warn("The css @value: "+t+" unit is "+o+" but it should be "+e),r}),f=(e.getCSSMilisecsValue=function(e){return l("ms",e)},e.wrapWithClass=function(e,t){return(0,n.h)("div",{className:e},t)},e.impurify=function(e){var t=function(t){function n(){var r,o,s;i(this,n);for(var u=arguments.length,c=Array(u),l=0;u>l;l++)c[l]=arguments[l];return r=o=a(this,t.call.apply(t,[this].concat(c))),o.render=function(){return e(o.props)},s=r,a(o,s)}return s(n,t),n}(n.Component);return t.defaultProps=e.defaultProps,t},e.preventDefaultOnClick=function(e){return function(t){t.preventDefault(),e()}},e.isDesktop=!/Android|webOS|iPhone|iPad|iPod|BB10|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(navigator.userAgent||""),function(){var e=!1;try{new Promise(function(){}),e=!0}catch(e){}return e}()),p=function(e,t){return f?void(0,c.default)().then(e).catch(t):void t({message:"Promise not supported"})};e.checkIfHasWebcam=function(e){p(function(t){return e(t.some(function(e){return"videoinput"===e.kind}))},function(t){return e(!1)})}})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.selectors=t.unboundActions=t.events=t.actions=t.store=t.connect=void 0;var i=n(162),a=o(i),s=n(32),u=o(s),c=n(58),l=o(c),f=n(31),p=n(59),d=r(p);t.connect=a.default,t.store=u.default,t.actions=f.actions,t.events=l.default,t.unboundActions=f.unboundActions,t.selectors=d},function(e,t,n){var r=n(49)("wks"),o=n(52),i=n(10).Symbol,a="function"==typeof i,s=e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))};s.store=r},function(e,t){e.exports={step:"onfido-sdk-ui-Theme-step",title:"onfido-sdk-ui-Theme-title","mbottom-large":"onfido-sdk-ui-Theme-mbottom-large",btn:"onfido-sdk-ui-Theme-btn","btn-centered":"onfido-sdk-ui-Theme-btn-centered","btn-primary":"onfido-sdk-ui-Theme-btn-primary","btn-alternative":"onfido-sdk-ui-Theme-btn-alternative",center:"onfido-sdk-ui-Theme-center","overlay-shape":"onfido-sdk-ui-Theme-overlay-shape",overlay:"onfido-sdk-ui-Theme-overlay",icon:"onfido-sdk-ui-Theme-icon",actions:"onfido-sdk-ui-Theme-actions"}},function(e,t,n){var r;!function(o){"use strict";function i(e,t,n){var r,o=document.createElement("img");return o.onerror=function(r){return i.onerror(o,r,e,t,n)},o.onload=function(r){return i.onload(o,r,e,t,n)},"string"==typeof e?(i.fetchBlob(e,function(t){t?(e=t,r=i.createObjectURL(e)):(r=e,n&&n.crossOrigin&&(o.crossOrigin=n.crossOrigin)),o.src=r},n),o):i.isInstanceOf("Blob",e)||i.isInstanceOf("File",e)?(r=o._objectURL=i.createObjectURL(e),r?(o.src=r,o):i.readFile(e,function(e){var n=e.target;n&&n.result?o.src=n.result:t&&t(e)})):void 0}function a(e,t){!e._objectURL||t&&t.noRevoke||(i.revokeObjectURL(e._objectURL),delete e._objectURL)}var s=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;i.fetchBlob=function(e,t,n){t()},i.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},i.transform=function(e,t,n,r,o){n(e,o)},i.onerror=function(e,t,n,r,o){a(e,o),r&&r.call(e,t)},i.onload=function(e,t,n,r,o){a(e,o),r&&i.transform(e,o,r,n,{})},i.createObjectURL=function(e){return!!s&&s.createObjectURL(e)},i.revokeObjectURL=function(e){return!!s&&s.revokeObjectURL(e)},i.readFile=function(e,t,n){if(window.FileReader){var r=new FileReader;if(r.onload=r.onerror=t,n=n||"readAsDataURL",r[n])return r[n](e),r}return!1},r=function(){return i}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(window)},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(22)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(14),o=n(102),i=n(119),a=Object.defineProperty;t.f=n(9)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){"use strict";t.__esModule=!0,t.SOCKET_URL="wss://ws.onfido.com",t.DOCUMENT_CAPTURE="DOCUMENT_CAPTURE",t.FACE_CAPTURE="FACE_CAPTURE",t.SET_AUTHENTICATED="SET_AUTHENTICATED",t.SET_WEBSOCKET_SUPPORT="SET_WEBSOCKET_SUPPORT",t.SET_WEBSOCKET_ERROR="SET_WEBSOCKET_ERROR",t.SET_GUM_SUPPORT="SET_GUM_SUPPORT",t.SET_DOCUMENT_TYPE="SET_DOCUMENT_TYPE",t.CAPTURE_CREATE="CAPTURE_CREATE",t.CAPTURE_VALIDATE="CAPTURE_VALIDATE",t.CAPTURE_CONFIRM="CAPTURE_CONFIRM",t.CAPTURE_DELETE="CAPTURE_DELETE"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=n(65),i=r(o),a=n(194),s=r(a),u=n(193),c=r(u),l=n(192),f=r(l),p=n(64),d=r(p),h=n(66);r(h),t.createStore=i.default,t.combineReducers=s.default,t.bindActionCreators=c.default,t.applyMiddleware=f.default,t.compose=d.default},function(e,t,n){var r=n(23);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(10),o=n(8),i=n(43),a=n(17),s="prototype",u=function(e,t,n){var c,l,f,p=e&u.F,d=e&u.G,h=e&u.S,v=e&u.P,m=e&u.B,y=e&u.W,g=d?o:o[t]||(o[t]={}),b=g[s],_=d?r:h?r[t]:(r[t]||{})[s];d&&(n=t);for(c in n)l=!p&&_&&void 0!==_[c],l&&c in g||(f=l?_[c]:n[c],g[c]=d&&"function"!=typeof _[c]?n[c]:m&&l?i(f,r):y&&_[c]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[s]=e[s],t}(f):v&&"function"==typeof f?i(Function.call,f):f,v&&((g.virtual||(g.virtual={}))[c]=f,e&u.R&&b&&!b[c]&&a(b,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(11),o=n(25);e.exports=n(9)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,u=n(e),c=1;arguments.length>c;c++){r=Object(arguments[c]);for(var l in r)i.call(r,l)&&(u[l]=r[l]);if(o){s=o(r);for(var f=0;s.length>f;f++)a.call(r,s[f])&&(u[s[f]]=r[s[f]])}}return u}},function(e,t,n){var r,o,i;!function(a,s){o=[t,n(200),n(38)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.canvasToBase64Images=e.toLossyImageDataUrl=e.cloneCanvas=void 0;var o=r(t),i=e.cloneCanvas=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=document.createElement("canvas"),o=r.getContext("2d");return null===t&&(t=e.width),null===n&&(n=e.height),r.width=t,r.height=n,o.drawImage(e,0,0,t,n),r},a=function(e,t){var n=e.width,r=e.height,o=n/r,a=Math.min(t,e.height),s=a*o;return i(e,s,a)},s=function(e){return function(t,r){return(0,n.tick)(function(n){return r(t.toDataURL(e))})}},u="image/"+(o.default?"webp":"jpeg"),c=e.toLossyImageDataUrl=s(u),l=s("image/png");e.canvasToBase64Images=function(e,t){if(e){var r=function(t){return(0,n.asyncFunc)(a,[e,200],function(e){return o(e,t)})},o=function(e,t){return c(e,function(e){return i(e,t)})},i=function(e,n){return t(e,n)};(0,n.tick)(function(){return l(e,r)})}}})},function(e,t,n){var r,o;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;arguments.length>t;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var a in r)i.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var i={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],o=function(){return n}.apply(t,r),!(void 0!==o&&(e.exports=o)))}()},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(49)("keys"),o=n(52);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(21);e.exports=function(e){return Object(r(e))}},function(e,t,n){function r(e){if(!a(e)||o(e)!=s)return!1;var t=i(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==p}var o=n(152),i=n(154),a=n(159),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,p=l.call(Object);e.exports=r},function(e,t){function n(e,t,n){if(Array.isArray(e))return e.forEach(t,n);if("object"!=typeof e&&"function"!=typeof e)throw new TypeError(e+" must be an object");if("function"!=typeof t)throw new TypeError(t+" must be a function");Object.keys(e).forEach(function(r){var o=e[r];t.call(n,o,r,e)})}e.exports=n},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.actions=t.unboundActions=void 0;var i=n(13),a=n(18),s=o(a),u=n(32),c=o(u),l=n(165),f=r(l),p=n(164),d=r(p),h=t.unboundActions=(0,s.default)({},f,d);t.actions=(0,i.bindActionCreators)(h,c.default.dispatch)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(13),i=n(168),a=r(i),s=(0,o.createStore)(a.default,window.devToolsExtension?window.devToolsExtension():void 0);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.connect=t.Provider=void 0;var o=n(185),i=r(o),a=n(186),s=r(a);t.Provider=i.default,t.connect=s.default},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(176),n(198)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n),i=o.default.config("https://6e3dc0335efc49889187ec90288a84fd@sentry.io/109946"),a="onfidojssdkwoopra",s=new window.WoopraTracker(a),u=function(){s.init(),s.config({domain:"onfido-js-sdk.com",cookie_name:"onfido-js-sdk-woopra",cookie_domain:location.hostname,referer:location.href}),o.default.TraceKit.collectWindowErrors=!0},c=function(){s.track(),i.install()},l=function(e,t){s.track(e,t)},f=function(e,t){i.captureException(Error(e),{extra:t})};t.default={setUp:u,track:c,sendError:f,sendEvent:l},e.exports=t.default})},function(e,t,n){var r,o,i;!function(a,s){o=[t,n(1),n(6),n(137)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentInstructions=e.DocumentOverlay=e.DocumentTitle=void 0;var i=o(n),a=o(r),s=e.DocumentTitle=function(e){var n=e.useCapture,r=e.side,o=e.title,a=n?"captureTitle":"uploadTitle";return(0,t.h)("div",{className:i.default.title},o[r][a])};s.defaultProps={title:{front:{captureTitle:"Place the front of your document in the rectangle",uploadTitle:"Upload the front of your document"},back:{captureTitle:"Place the back of your document in the rectangle",uploadTitle:"Upload the back of your document"}}},e.DocumentOverlay=function(){return(0,t.h)("div",{className:i.default.overlay},(0,t.h)("span",{className:i.default["overlay-shape"]+" "+a.default.rectangle}))},e.DocumentInstructions=function(){return(0,t.h)("div",{className:a.default.capture},(0,t.h)("p",{className:i.default.center},"Once it is detected you will be automatically directed to the next step."))}})},function(e,t,n){var r,o,i;!function(a,s){o=[t,n(1),n(6),n(139)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.FaceInstructions=e.FaceOverlay=e.FaceTitle=void 0;var i=o(n),a=o(r);e.FaceTitle=function(e){var n=e.useCapture,r=n?"Place your face in the circle":"Upload a picture of your face";return(0,t.h)("div",{className:i.default.title},r)},e.FaceOverlay=function(){return(0,t.h)("div",{className:i.default.overlay},(0,t.h)("span",{className:i.default["overlay-shape"]+" "+a.default.circle}))},e.FaceInstructions=function(e){var n=e.handeClick;return(0,t.h)("div",{className:a.default.instructions},(0,t.h)("button",{className:i.default.btn+" "+i.default["btn-primary"]+" "+i.default["btn-centered"],onClick:n},"Take photo"))}})},function(e,t,n){var r,o,i;!function(a,s){o=[t,n(7),n(19),n(92),n(91)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.fileToLossyBase64Image=e.isOfFileType=e.fileType=e.base64toBlob=e.fileToBase64=void 0;var o=r(t),i=(e.fileToBase64=function(e,t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){t(r.result)},r.onerror=function(e){console.log("File Reading Error: ",e),n(e)}},function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length),o=0;t.length>o;o++)r[o]=t.charCodeAt(o);return{integerArray:r,mimeString:n}}),a=(e.base64toBlob=function(e){var t=i(e);return new Blob([t.integerArray],{type:t.mimeString})},e.fileType=function(e){return e.type.split("/")[1]}),s=(e.isOfFileType=function(e,t){return e.some(function(e){return e===a(t)})},function(e,t,n){return(0,o.default)(e,function(e){"error"===e.type?n(e):t(e)},{maxWidth:960,maxHeight:960,orientation:!0})});e.fileToLossyBase64Image=function(e,t,r){return s(e,function(e){return(0,n.toLossyImageDataUrl)(e,t)},r)}})},function(e,t,n){var r,o,i;!function(n,a){o=[t],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(e.asyncFunc=function(e,n,r){return t(function(){return r(e.apply(void 0,n))})},e.tick=function(e){return requestAnimationFrame(e)})})},function(e,t,n){e.exports={default:n(96),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(86),i=r(o);t.default=i.default||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){var r,o,i;!function(a){"use strict";o=[n(7)],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(function(e){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,n,r,o){r=r||{},o=o||{};var i=this,a=r.maxMetaDataSize||262144,s=!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice);!s&&e.readFile(e.blobSlice.call(t,0,a),function(t){if(t.target.error)return console.log(t.target.error),void n(o);var a,s,u,c,l=t.target.result,f=new DataView(l),p=2,d=f.byteLength-4,h=p;if(65496===f.getUint16(0)){for(;d>p&&(a=f.getUint16(p),a>=65504&&65519>=a||65534===a);){if(s=f.getUint16(p+2)+2,p+s>f.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(u=e.metaDataParsers.jpeg[a])for(c=0;u.length>c;c+=1)u[c].call(i,f,p,s,o,r);p+=s,h=p}!r.disableImageHead&&h>6&&(o.imageHead=l.slice?l.slice(0,h):new Uint8Array(l).subarray(0,h))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(o)},"readAsArrayBuffer")||n(o)},e.hasMetaOption=function(e){return e&&e.meta};var n=e.transform;e.transform=function(t,r,o,i,a){e.hasMetaOption(r)?e.parseMetaData(i,function(a){n.call(e,t,r,o,i,a)},r,a):n.apply(e,arguments)}})},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(97);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(23),o=n(10).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(42);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(114),o=n(45);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(11).f,o=n(16),i=n(5)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(10),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(46),o=n(21);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(27),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports={captures:"onfido-sdk-ui-Confirm-captures",image:"onfido-sdk-ui-Confirm-image","btn-outline":"onfido-sdk-ui-Confirm-btn-outline",actions:"onfido-sdk-ui-Confirm-actions",pdfIcon:"onfido-sdk-ui-Confirm-pdfIcon"}},function(e,t){"use strict";t.__esModule=!0,t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},t.stripPrefix=function(e,t){return 0===e.indexOf(t)?e.substr(t.length):e},t.parsePath=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");o!==-1&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return i!==-1&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},t.createPath=function(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;u=Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t,n){var r=n(158),o=r.Symbol;e.exports=o},function(e,t,n){function r(e,t,n){if(Array.isArray(e))return e.map(t,n);if("function"!=typeof t)throw new TypeError(t+" must be a function");var r={};return o(e,function(e,o,i){r[o]=t.call(n,e,o,i)}),r}var o=n(30);e.exports=r},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(131),a=o(i),s=n(32),u=o(s),c=n(191),l=o(c),f=n(126),p=o(f),d=n(160),h=o(d),v=n(59),m=r(v),y=new a.default,g=function(){return u.default.getState()},b=function(){return m.confirmedCaptures(g())},_=function(){return(0,h.default)(b(),function(e){return e+"Capture"})},w=u.default.subscribe.bind(u.default),k=function(e,t){return function(n,r){var o=(0,l.default)(function(){return n(e())},null,p.default);t(o(r))}},x=k(g,w);x(function(e){return e.globals.authenticated},function(e){e&&y.emit("ready")}),y.getCaptures=_,t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.confirmedCaptures=t.allInvalidCaptureSelector=t.unprocessedCaptures=t.currentValidCaptures=void 0;var o=n(195),i=n(57),a=r(i),s=function(e,t){var n=t.method,r=t.side,o=void 0===r?null:r;return e.captures[n].filter(function(e){return e.side===o})},u=function(e){var t=e.captures;return{face:t.face,document:t.document.filter(function(e){return"front"===e.side}),documentBack:t.document.filter(function(e){return"back"===e.side})}},c=(t.currentValidCaptures=(0,o.createSelector)(s,function(e){return e.filter(function(e){return e.valid})}),t.unprocessedCaptures=(0,o.createSelector)(s,function(e){return e.filter(function(e){return!e.processed})}),t.allInvalidCaptureSelector=(0,o.createSelector)(s,function(e){return e.length>0&&e.every(function(e){return e.processed&&!e.valid})}),(0,o.createSelector)(u,function(e){return(0,a.default)(e,function(e){return e.filter(function(e){return e.valid})})}));t.confirmedCaptures=(0,o.createSelector)(c,function(e){return(0,a.default)(e,function(e){return e.filter(function(e){return e.confirmed})[0]})})},function(e,t,n){!function(t,r){e.exports=r(n(2))}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)<0&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),f=r(l),p=n(2),d=r(p),h="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input"),v=function(e){function t(e,n){i(this,t);var r=a(this,Object.getPrototypeOf(t).call(this,e,n));return r.onClick=r.onClick.bind(r),r.onDragEnter=r.onDragEnter.bind(r),r.onDragLeave=r.onDragLeave.bind(r),r.onDragOver=r.onDragOver.bind(r),r.onDrop=r.onDrop.bind(r),r.state={isDragActive:!1},r}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.enterCounter=0}},{key:"onDragEnter",value:function(e){e.preventDefault(),++this.enterCounter;var t=e.dataTransfer&&e.dataTransfer.items?e.dataTransfer.items:[],n=this.allFilesAccepted(Array.prototype.slice.call(t));this.setState({isDragActive:n,isDragReject:!n}),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"onDragLeave",value:function(e){e.preventDefault(),--this.enterCounter>0||(this.setState({isDragActive:!1,isDragReject:!1}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){e.preventDefault(),this.enterCounter=0,this.setState({isDragActive:!1,isDragReject:!1});for(var t=e.dataTransfer?e.dataTransfer.files:e.target.files,n=this.props.multiple?t.length:Math.min(t.length,1),r=[],o=0;n>o;o++){var i=t[o];this.props.disablePreview||(i.preview=window.URL.createObjectURL(i)),r.push(i)}this.props.onDrop&&this.props.onDrop.call(this,r,e),this.allFilesAccepted(r)?this.props.onDropAccepted&&this.props.onDropAccepted.call(this,r,e):this.props.onDropRejected&&this.props.onDropRejected.call(this,r,e)}},{key:"onClick",value:function(){this.props.disableClick||this.open()}},{key:"allFilesAccepted",value:function(e){var t=this;return e.every(function(e){return(0,f.default)(e,t.props.accept)})}},{key:"open",value:function(){this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this,t=this.props,n=t.accept,r=t.activeClassName,i=t.inputProps,a=t.multiple,s=t.name,c=t.rejectClassName,l=o(t,["accept","activeClassName","inputProps","multiple","name","rejectClassName"]),f=l.activeStyle,p=l.className,v=l.rejectStyle,m=l.style,y=o(l,["activeStyle","className","rejectStyle","style"]),g=this.state,b=g.isDragActive,_=g.isDragReject;p=p||"",b&&r&&(p+=" "+r),_&&c&&(p+=" "+c),p||m||f||v||(m={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},f={borderStyle:"solid",backgroundColor:"#eee"},v={borderStyle:"solid",backgroundColor:"#ffdddd"});var w=void 0;w=f&&b?u({},m,f):v&&_?u({},m,v):u({},m);var k={accept:n,type:"file",style:{display:"none"},multiple:h&&a,ref:function(t){return e.fileInputEl=t},onChange:this.onDrop};return s&&s.length&&(k.name=s),d.default.createElement("div",u({className:p,style:w},y,{onClick:this.onClick,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop}),this.props.children,d.default.createElement("input",u({},i,k)))}}]),t}(d.default.Component);v.defaultProps={disablePreview:!1,disableClick:!1,multiple:!0},v.propTypes={onDrop:d.default.PropTypes.func,onDropAccepted:d.default.PropTypes.func,onDropRejected:d.default.PropTypes.func,onDragEnter:d.default.PropTypes.func,onDragLeave:d.default.PropTypes.func,children:d.default.PropTypes.node,style:d.default.PropTypes.object,activeStyle:d.default.PropTypes.object,rejectStyle:d.default.PropTypes.object,className:d.default.PropTypes.string,activeClassName:d.default.PropTypes.string,rejectClassName:d.default.PropTypes.string,disablePreview:d.default.PropTypes.bool,disableClick:d.default.PropTypes.bool,inputProps:d.default.PropTypes.object,multiple:d.default.PropTypes.bool,accept:d.default.PropTypes.string,name:d.default.PropTypes.string},t.default=v,e.exports=t.default},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";t.__esModule=!0,n(8),n(9),t.default=function(e,t){if(e&&t){var n=function(){var n=t.split(","),r=e.name||"",o=e.type||"",i=o.replace(/\/.*$/,"");return{v:n.some(function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):/\/\*$/.test(t)?i===t.replace(/\/.*$/,""):o===t})}}();if("object"==typeof n)return n.v}return!0},e.exports=t.default},function(e,t){var n=e.exports={version:"1.2.2"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(2),o=n(1),i=n(4),a=n(19),s="prototype",u=function(e,t){return function(){return e.apply(t,arguments)}},c=function(e,t,n){var l,f,p,d,h=e&c.G,v=e&c.P,m=h?r:e&c.S?r[t]||(r[t]={}):(r[t]||{})[s],y=h?o:o[t]||(o[t]={});h&&(n=t);for(l in n)f=!(e&c.F)&&m&&l in m,p=(f?m:n)[l],d=e&c.B&&f?u(p,r):v&&"function"==typeof p?u(Function.call,p):p,m&&!f&&a(m,l,p),y[l]!=p&&i(y,l,d),v&&((y[s]||(y[s]={}))[l]=p)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,e.exports=c},function(e,t,n){var r=n(5),o=n(18);e.exports=n(22)?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(20)("wks"),o=n(2).Symbol;e.exports=function(e){return r[e]||(r[e]=o&&o[e]||(o||n(6))("Symbol."+e))}},function(e,t,n){n(26),e.exports=n(1).Array.some},function(e,t,n){n(25),e.exports=n(1).String.endsWith},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(10);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n(7)("match")]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(16),o=n(11),i=n(7)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(2),o=n(4),i=n(6)("src"),a="toString",s=Function[a],u=(""+s).split(a);n(1).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,a){"function"==typeof n&&(o(n,i,e[t]?""+e[t]:u.join(t+"")),"name"in n||(n.name=t)),e===r?e[t]=n:(a||delete e[t],o(e,t,n))})(Function.prototype,a,function(){return"function"==typeof this&&this[i]||s.call(this)})},function(e,t,n){var r=n(2),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(17),o=n(13);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return o(e)+""}},function(e,t,n){e.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(23),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(3),o=n(24),i=n(21),a="endsWith",s=""[a];r(r.P+r.F*n(14)(a),"String",{endsWith:function(e){var t=i(this,e,a),n=arguments,r=n.length>1?n[1]:void 0,u=o(t.length),c=void 0===r?u:Math.min(o(r),u),l=e+"";return s?s.call(t,l,c):t.slice(c-l.length,c)===l}})},function(e,t,n){var r=n(5),o=n(3),i=n(1).Array||Array,a={},s=function(e,t){r.each.call(e.split(","),function(e){void 0==t&&e in i?a[e]=i[e]:e in[]&&(a[e]=n(12)(Function.call,[][e],t))})};s("pop,reverse,shift,keys,values,entries",1),s("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),s("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),o(o.S,"Array",a)}])},function(t,n){t.exports=e}])})},function(e,t){"use strict";/*!
	 * Adapted from jQuery UI core
	 *
	 * http://jqueryui.com
	 *
	 * Copyright 2014 jQuery Foundation and other contributors
	 * Released under the MIT license.
	 * http://jquery.org/license
	 *
	 * http://api.jqueryui.com/category/ui-core/
	 */
function n(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&o(e)}function r(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||"none"===e.style.display}function o(e){for(;e&&e!==document.body;){if(r(e))return!1;e=e.parentNode}return!0}function i(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var r=isNaN(t);return(r||t>=0)&&n(e,!r)}function a(e){return[].slice.call(e.querySelectorAll("*"),0).filter(function(e){return i(e)})}e.exports=a},function(e,t,n){"use strict";t.__esModule=!0;var r=n(2);t.default=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};var r=function(){var e=t[t.length-1],n=t.slice(0,-1);return{v:function(){return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){function r(){y===m&&(y=m.slice())}function i(){return v}function s(e){if("function"!=typeof e)throw Error("Expected listener to be a function.");var t=!0;return r(),y.push(e),function(){if(t){t=!1,r();var n=y.indexOf(e);y.splice(n,1)}}}function l(e){if(!(0,a.default)(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw Error("Reducers may not dispatch actions.");try{g=!0,v=h(v,e)}finally{g=!1}for(var t=m=y,n=0;t.length>n;n++)t[n]();return e}function f(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");h=e,l({type:c.INIT})}function p(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[u.default]=function(){return this},e}var d;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var h=e,v=t,m=[],y=m,g=!1;return l({type:c.INIT}),d={dispatch:l,subscribe:s,getState:i,replaceReducer:f},d[u.default]=p,d}t.__esModule=!0,t.ActionTypes=void 0,t.default=o;var i=n(29),a=r(i),s=n(201),u=r(s),c=t.ActionTypes={INIT:"@@redux/INIT"}},63,function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(189),n(125),n(20),n(4),n(60),n(204),n(35),n(36),n(74),n(3),n(19),n(38),n(133)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i,a,s,u,c,l,f,p,d,h,v){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var _=m(r),w=m(o),k=(m(i),m(s)),x=m(u),E=m(f),O=m(v),C=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=function(e){var t=e.method,r=e.countDownRef;return(0,p.functionalSwitch)(t,{document:function(){return(0,n.h)(c.DocumentOverlay,null)},face:function(){return(0,n.h)("div",null,(0,n.h)(E.default,{ref:r}),(0,n.h)(l.FaceOverlay,null))}})},P=function(e){var t=e.method,r=e.faceCaptureClick;return(0,p.functionalSwitch)(t,{document:function(){return(0,n.h)(c.DocumentInstructions,null)},face:function(){return(0,n.h)(l.FaceInstructions,{handeClick:r})}})},T=function(e){var t=e.onUploadFallback;return(0,n.h)(k.default,{onDrop:function(e){var n=e[0];return t(n)},className:O.default.uploadFallback,multiple:!1},(0,n.h)("button",null," Having problems? Click here to upload a file"))},j=function(e){var t=e.method,r=e.onUploadFallback,o=e.onUserMedia,i=e.faceCaptureClick,a=e.countDownRef,s=e.webcamRef,u=e.onWebcamError;return(0,n.h)("div",null,(0,n.h)("div",{className:O.default["video-overlay"]},(0,n.h)(S,{method:t,countDownRef:a}),(0,n.h)(_.default,C({className:O.default.video,audio:!1,width:960,height:720},{onUserMedia:o,ref:s,onFailure:u})),(0,n.h)(T,{onUploadFallback:r})),(0,n.h)(P,{method:t,faceCaptureClick:i}))},M=function(e){function t(){var r,o,i;y(this,t);for(var a=arguments.length,s=Array(a),u=0;a>u;u++)s[u]=arguments[u];return r=o=g(this,e.call.apply(e,[this].concat(s))),o.webcam=null,o.capture={start:function(){o.capture.stop(),o.interval=x.default.every(1e3,o.screenshot)},stop:function(){return x.default.stop(o.interval)},once:function(){var e={useEasing:!1,useGrouping:!1},t=new w.default(o.countdown,3,0,0,3,e);t.start(function(){return o.screenshot()})}},o.screenshot=function(){var e=o.props.onScreenshot,t=o.webcam.getCanvas();return t?void(0,h.asyncFunc)(d.cloneCanvas,[t],e):void console.error("webcam canvas is null")},o.render=function(e){var t=e.method,r=e.onUserMedia,i=e.onUploadFallback,a=e.onWebcamError;return(0,n.h)(j,{method:t,onUserMedia:r,onUploadFallback:i,onWebcamError:a,faceCaptureClick:o.capture.once,countDownRef:function(e){o.countdown=e},webcamRef:function(e){o.webcam=e}})},i=r,g(o,i)}return b(t,e),t.prototype.webcamMounted=function(){var e=this.props.autoCapture;e&&this.capture.start()},t.prototype.webcamUnmounted=function(){this.capture.stop()},t.prototype.componentDidMount=function(){this.webcamMounted()},t.prototype.componentWillUnmount=function(){this.webcamUnmounted()},t}(n.Component);t.default=M,e.exports=t.default})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(4),n(20),n(33),n(84),n(81),n(68),n(73),n(36),n(35),n(134),n(3),n(19),n(37),n(83)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i,a,s,u,c,l,f,p,d,h,v,m){"use strict";function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n={};for(var r in e)t.indexOf(r)<0&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var k=y(o),x=y(a),E=y(u),O=y(c),C=y(p),S=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P=!0;(0,d.checkIfHasWebcam)(function(e){return P=e});var T=function(e){function t(n){b(this,t);var r=_(this,e.call(this,n));return r.checkWebcamSupport=function(){(0,d.checkIfHasWebcam)(function(e){return r.setState({hasWebcam:e})})},r.validateCapture=function(e,t){var n=r.props,o=n.actions,i=n.method;o.validateCapture({id:e,valid:t,method:i})},r.maxAutomaticCaptures=3,r.onServerResponse=function(e){var t=e.valid;r.validateCapture(e.id,t)},r.handleCapture=function(e,t){if(!e)return void console.warn("Cannot handle a null image");var n=r.createPayload(e,t);(0,d.functionalSwitch)(r.props.method,{document:function(){return r.handleDocument(n)},face:function(){return r.handleFace(n)}})},r.createPayload=function(e,t){return{id:(0,x.default)(),blob:e,base64:t}},r.createJSONPayload=function(e){var t=e.id,n=e.base64;return JSON.stringify({id:t,image:n})},r.onUploadFallback=function(e){r.setState({uploadFallback:!0}),r.deleteCaptures(),r.onImageFileSelected(e)},r.onWebcamError=function(){r.setState({uploadFallback:!0}),r.deleteCaptures()},r.onScreenshot=function(e){return(0,h.canvasToBase64Images)(e,function(e,t){var n=(0,v.base64toBlob)(t);r.handleCapture(n,e)})},r.onImageFileSelected=function(e){var t=["jpg","jpeg","png"],n=["pdf"],o=[].concat(t,n);if(!(0,v.isOfFileType)(o,e))return void r.onFileTypeError();if(e.size>4e6)return void r.onFileSizeError();var i=function(e){return(0,v.fileToBase64)(e,function(t){return r.handleCapture(e,t)},r.onFileGeneralError)};(0,v.isOfFileType)(n,e)?i(e):(0,v.isOfFileType)(t,e)&&(0,v.fileToLossyBase64Image)(e,function(t){return r.handleCapture(e,t)},function(t){return i(e)})},r.onFileTypeError=function(){r.setState({error:"INVALID_TYPE"})},r.onFileSizeError=function(){r.setState({error:"INVALID_SIZE"})},r.onFileGeneralError=function(){r.setState({error:"INVALID_CAPTURE"})},r.onServerError=function(){r.deleteCaptures(),r.setState({error:"SERVER_ERROR"})},r.deleteCaptures=function(){var e=r.props,t=e.method,n=e.side,o=e.actions.deleteCaptures;o({method:t,side:n})},r.state={uploadFallback:!1,error:!1,hasWebcam:P},r}return w(t,e),t.prototype.componentDidMount=function(){this.webcamChecker=setInterval(this.checkWebcamSupport,2e3),this.checkWebcamSupport()},t.prototype.componentWillUnmount=function(){this.setState({uploadFallback:!1}),clearInterval(this.webcamChecker)},t.prototype.componentWillReceiveProps=function(e){var t=e.validCaptures,n=e.unprocessedCaptures,r=e.allInvalid;t.length>0&&this.setState({uploadFallback:!1}),n.length>0&&this.setState({error:!1}),r&&this.onFileGeneralError()},t.prototype.createCapture=function(e){var t=this.props,n=t.actions,r=t.method,o=t.side;e.side=o,n.createCapture({method:r,capture:e,maxCaptures:this.maxAutomaticCaptures})},t.prototype.handleDocument=function(e){var t=this,n=this.props,r=n.token,o=n.serverUrl,i=n.documentType,a=n.unprocessedCaptures;return a.length===this.maxAutomaticCaptures?void console.warn("Server response is slow, waiting for responses before uploading more"):(e=S({},e,{documentType:i}),"back"!==this.props.side||this.props.useWebcam?(0,m.postToServer)(this.createJSONPayload(e),o,r,function(e){return t.onServerResponse(e)},function(e){return t.onServerError(e)}):e=S({},e,{valid:!0}),void this.createCapture(e))},t.prototype.handleFace=function(e){this.createCapture(S({},e,{valid:!0}))},t.prototype.render=function(e){var t=e.method,r=e.side,o=e.validCaptures,i=e.useWebcam,a=e.unprocessedCaptures,s=g(e,["method","side","validCaptures","useWebcam","unprocessedCaptures"]),u=!this.state.uploadFallback&&i&&d.isDesktop&&this.state.hasWebcam,c=a.length>0;return(0,n.h)(A,S({method:t,side:r,validCaptures:o,useCapture:u,onScreenshot:this.onScreenshot,onUploadFallback:this.onUploadFallback,onImageSelected:this.onImageFileSelected,onWebcamError:this.onWebcamError,uploading:c,error:this.state.error},s))},t}(n.Component),j=function(e){var t=e.method,r=e.side,o=e.useCapture;return(0,d.functionalSwitch)(t,{document:function(){return(0,n.h)(f.DocumentTitle,{useCapture:o,side:r})},face:function(){return(0,n.h)(l.FaceTitle,{useCapture:o})}})},M=(0,d.impurify)(function(e){var t=e.method,r=e.side,o=e.useCapture,i=g(e,["method","side","useCapture"]);return(0,n.h)("div",null,(0,n.h)(j,{method:t,side:r,useCapture:o}),o?(0,n.h)(E.default,S({method:t},i)):(0,n.h)(s.Uploader,S({method:t},i)))}),A=function(e){var t,r=e.method,o=e.side,i=e.validCaptures,a=e.useCapture,s=g(e,["method","side","validCaptures","useCapture"]),u=i.length>0;return(0,n.h)("div",{className:(0,k.default)((t={},t[C.default.camera]=a&&!u,t[C.default.uploader]=!a&&!u,t))},u?(0,n.h)(O.default,S({method:r,side:o,validCaptures:i},s)):(0,n.h)(M,S({method:r,side:o,useCapture:a},s)))},D=function(e,t){return{allInvalid:r.selectors.allInvalidCaptureSelector(e,t),validCaptures:r.selectors.currentValidCaptures(e,t),unprocessedCaptures:r.selectors.unprocessedCaptures(e,t)}};t.default=(0,i.connect)(D)(T),e.exports=t.default})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(69),n(3)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(r),s=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e){return(0,n.h)(a.default,s({autoCapture:!0},e))};u.defaultProps={useWebcam:!1,method:"document",side:"front"};var c=function(e){return(0,n.h)(a.default,s({autoCapture:!0},e))};c.defaultProps={useWebcam:!1,method:"document",side:"back"};var l=function(e){return(0,n.h)(a.default,s({autoCapture:!1},e))};l.defaultProps={useWebcam:!0,method:"face",side:null},t.default={FrontDocumentCapture:(0,o.impurify)(u),BackDocumentCapture:(0,o.impurify)(c),FaceCapture:(0,o.impurify)(l)},e.exports=t.default})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(4),n(6),n(135)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=a(o),f=a(i),p=function(e){function t(n){return s(this,t),u(this,e.call(this,n))}return c(t,e),t.prototype.componentDidMount=function(){r.events.emit("complete")},t.prototype.render=function(e){var t=e.message,r=e.submessage;return(0,n.h)("div",null,(0,n.h)("div",{className:l.default.step},(0,n.h)("span",{className:l.default.icon+"  "+f.default.icon}),(0,n.h)("h1",{className:l.default.title+" "+l.default.center},t),(0,n.h)("p",{className:l.default["mbottom-large"]+" "+l.default.center},r)))},t}(n.Component);p.defaultProps={message:"Verification complete",submessage:"Thank you."},t.default=p,e.exports=t.default})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(170),n(3),n(53)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=a(r),f=a(i),p=function(e){var t=e.blob,r=function(e){window.navigator.msSaveOrOpenBlob(t,"document.pdf")};return(0,n.h)("a",{href:"#",onClick:(0,o.preventDefaultOnClick)(r),className:f.default.pdfIcon})},d=0,h=function(e){function t(n){s(this,t);var r=u(this,e.call(this,n));return r.options={width:"92%",height:"290px","max-height":"70vh",border:0,fallbackLink:"<a href='[url]' class="+f.default.pdfIcon+" download/>"},r.id="pdfContainer"+d++,r}return c(t,e),t.prototype.embedPDF=function(e){l.default.embed(e,"#"+this.id,this.options)},t.prototype.componentDidMount=function(){var e=this.props.previewUrl;this.embedPDF(e)},t.prototype.shouldComponentUpdate=function(e,t){return!1},t.prototype.componentWillReceiveProps=function(e){var t=e.previewUrl;this.props.pdfPreview!==t&&this.embedPDF(t)},t.prototype.render=function(){return(0,n.h)("div",{id:this.id})},t}(n.Component),v=function(e){function t(){return s(this,t),u(this,e.apply(this,arguments))}return c(t,e),t.prototype.shouldComponentUpdate=function(e,t){return!1},t.prototype.render=function(){var e=this.props,t=e.blob,r=e.previewUrl;return(0,n.h)("div",null,window.navigator.msSaveOrOpenBlob?(0,n.h)(p,{blob:t}):(0,n.h)(h,{previewUrl:r}))},t}(n.Component);t.default=v,e.exports=t.default})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(4),n(6),n(53),n(3),n(37),n(72)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i,a,s,u){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d,h,v,m=c(o),y=c(i),g=c(u),b=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=function(e){var t=e.capture,r=t.blob,o=t.base64,i=t.previewUrl;return(0,n.h)("div",{className:y.default.captures},(0,s.isOfFileType)(["pdf"],r)?(0,n.h)(g.default,{previewUrl:i,blob:r}):(0,n.h)("img",{className:y.default.image,src:r instanceof File?o:i}))},w=(h=d=function(e){function t(n){l(this,t);var r=f(this,e.call(this,n));v.call(r);var o=n.capture.blob;return r.state=r.previewUrlState(o),r}return p(t,e),t.prototype.updateBlobPreview=function(e){this.revokePreviewURL(),this.setState(this.previewUrlState(e))},t.prototype.revokePreviewURL=function(){URL.revokeObjectURL(this.state.previewUrl)},t.prototype.componentWillReceiveProps=function(e){var t=e.capture.blob;this.props.capture.blob!==t&&this.updateBlobPreview(t)},t.prototype.componentWillUnmount=function(){this.revokePreviewURL()},t.prototype.render=function(){var e=this.props.capture;return(0,n.h)(_,{capture:b({},e,{previewUrl:this.state.previewUrl})})},t}(n.Component),v=function(){this.previewUrlState=function(e){return e?{previewUrl:URL.createObjectURL(e)}:{}}},h),k=function(e){var t=e.capture,r=e.retakeAction,o=e.confirmAction;return(0,n.h)("div",{className:m.default.previews+" "+m.default.step},(0,n.h)("h1",{className:m.default.title},"Confirm capture"),(0,n.h)("p",null,"Please confirm that you are happy with this photo."),(0,n.h)(w,{capture:t}),(0,n.h)("div",{className:m.default.actions+" "+y.default.actions},(0,n.h)("button",{onClick:r,className:m.default.btn+" "+y.default["btn-outline"]},"Take again"),(0,n.h)("a",{href:"",className:m.default.btn+" "+m.default["btn-primary"],onClick:(0,a.preventDefaultOnClick)(o)},"Confirm")))},x=function(e){var t=e.nextStep,r=e.method,o=e.side,i=e.validCaptures,a=e.actions,s=a.deleteCaptures,u=a.confirmCapture,c=i[0];return(0,n.h)(k,{capture:c,retakeAction:function(){return s({method:r,side:o})},confirmAction:function(){u({method:r,id:c.id}),E(r,o),t()}})},E=function(e,t){"document"===e?"front"===t?r.events.emit("documentCapture"):"back"===t&&r.events.emit("documentBackCapture"):"face"===e&&r.events.emit("faceCapture")};t.default=(0,a.impurify)(x),e.exports=t.default})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(136)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(r),a=function(){return(0,n.h)("span",{className:i.default.countdown})};t.default=a,e.exports=t.default})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(138)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=o(r),c=[{value:"passport",label:"Passport",icon:"icon-passport"},{value:"driving_licence",label:"Driver's License",icon:"icon-license"},{value:"national_identity_card",label:"Identity Card",icon:"icon-identity"}],l=function(e){function t(){var r,o,s;i(this,t);for(var c=arguments.length,l=Array(c),f=0;c>f;f++)l[f]=arguments[f];return r=o=a(this,e.call.apply(e,[this].concat(l))),o.handleSelect=function(e,t){e.stopPropagation();var n=o.props,r=n.setDocumentType,i=n.nextStep;r(t),i()},o.renderOption=function(e){return(0,n.h)("div",{class:u.default.option,onClick:function(t){return o.handleSelect(t,e.value)}},(0,n.h)("div",{class:u.default.icon+" "+u.default[e.icon]}),(0,n.h)("span",null,e.label))},s=r,a(o,s)}return s(t,e),t.prototype.render=function(){var e=this;return(0,n.h)("div",{class:u.default.selector},c.map(function(t){return e.renderOption(t)}))},t}(n.Component);t.default=l,e.exports=t.default})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(4),n(140),n(184),n(1),n(3)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n={};for(var r in e)t.indexOf(r)<0&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var p,d,h=s(r),v=s(o),m=(0,a.getCSSMilisecsValue)(h.default.modal_animation_duration),y=function(e){var t=e.children;return(0,a.wrapWithClass)(h.default.content,t)},g=function(e){var t=e.children;return(0,a.wrapWithClass)(h.default.inner,(0,i.h)(y,null,t))},b=(d=p=function(e){function t(r){c(this,t);var o=l(this,e.call(this,r));return o.openModal=function(){n.events.emit("onBeforeOpen"),o.setState({isOpen:!0})},o.onAfterOpen=function(){return n.events.emit("onOpen")},o.onRequestClose=function(){console.log("onRequestClose"),n.events.emit("onBeforeClose"),o.setState({isOpen:!1})},o.onAfterClose=function(){return n.events.emit("onClose")},o.state={isOpen:!1},o}return f(t,e),t.prototype.componentDidMount=function(){var e=this.props.buttonId;console.log("componentDidMount",e);var t=document.getElementById(e);return t?(t.addEventListener("click",this.openModal),t.disabled=!1,void this.setState({button:t})):void console.warn("The button with id #"+e+" cannot be found")},t.prototype.componentWillUnmount=function(){var e=this.state.button;e&&e.removeEventListener("click",this.openModal)},t.prototype.render=function(){return(0,i.h)(v.default,{isOpen:this.state.isOpen||this.props.isOpen,onAfterOpen:this.onAfterOpen,onRequestClose:this.onRequestClose,onAfterClose:this.onAfterClose,portalClassName:h.default.portal,overlayClassName:h.default.overlay,bodyClassName:h.default.modalBody,className:h.default.inner,shouldCloseOnOverlayClick:!0,closeTimeoutMS:m},(0,i.h)(t.WrapperContentImpure,null,this.props.children))},t}(i.Component),p.WrapperContentImpure=(0,a.impurify)(y),d),_=function(e){var t=e.useModal,n=e.children,r=u(e,["useModal","children"]);return t?(0,i.h)(b,r,n):(0,i.h)(g,null,n)},w=function(e){function t(){var n,r,o;c(this,t);for(var a=arguments.length,s=Array(a),u=0;a>u;u++)s[u]=arguments[u];return n=r=l(this,e.call.apply(e,[this].concat(s))),r.render=function(){return(0,i.h)(_,r.props)},o=n,l(r,o)}return f(t,e),t.prototype.componentDidMount=function(){this.props.useModal||(n.events.emit("onBeforeOpen"),n.events.emit("onOpen"))},t}(i.Component);t.default=w,e.exports=t.default})},function(e,t,n){var r,o,i;!function(a,s){o=[t,n(1),n(4),n(82),n(79),n(70),n(71)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.createComponentList=void 0;var u=s(r),c=s(o),l=s(a),f=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=(e.createComponentList=function(e,t){var n=g(e.map(y)),r=n.length,o=function(e,n){var o={step:e,componentOptions:t};return r===n+1&&(o.finalStep=!0),d(o)};return g(n.map(o))},function(e,n){var r=n?f({},e,{nextStep:h}):e,o=["driving_licence","national_identity_card"];return o.indexOf(e.documentType)!==-1?[(0,t.h)(c.default,e),(0,t.h)(i.FrontDocumentCapture,e),(0,t.h)(i.BackDocumentCapture,r)]:[(0,t.h)(c.default,e),(0,t.h)(i.FrontDocumentCapture,r)]}),d=function(e){var n=e.step,r=e.componentOptions,o=e.finalStep,a=f({},n.options,r);o&&"document"!==n.type&&(a.nextStep=h);var s={welcome:function(){return(0,t.h)(u.default,a)},face:function(){return(0,t.h)(i.FaceCapture,a)},document:function(){return p(a,o)},complete:function(){return(0,t.h)(l.default,a)}};return n.type in s||console.error("No such step: "+n.type),s[n.type]()},h=function(){n.events.emit("complete")},v=function(e){return{type:e}},m=function(e){return"object"==typeof e},y=function(e){return m(e)?e:v(e)},g=function(e){var t;return(t=[]).concat.apply(t,e)}})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(148),n(13),n(33),n(4),n(77)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i,a,s){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n={};for(var r in e)t.indexOf(r)<0&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e){return b({},e.globals)}function h(e){return{actions:(0,o.bindActionCreators)(a.unboundActions,e)}}Object.defineProperty(t,"__esModule",{value:!0});var v,m,y,g=u(r),b=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=(0,g.default)(),w=(m=v=function(e){function t(n){l(this,t);var r=f(this,e.call(this,n));return y.call(r),r.setState(r.initialState),r.unlisten=_.listen(function(e){var t=e.state,n=void 0===t?r.initialState:t;r.setState(n)}),r}return p(t,e),t.prototype.componentWillUnmount=function(){this.unlisten()},t}(n.Component),y=function(){var e=this;this.initialState={step:0},this.nextStep=function(){var t={step:e.state.step+1},n=""+location.pathname+location.search+location.hash;_.push(n,t)},this.render=function(t){var r=t.options,o=c(t,["options"]),i=["welcome","document","face","complete"],a=r.steps||i;o.nextStep=e.nextStep,o.token=r.token,o.serverUrl=r.serverUrl;var u=(0,s.createComponentList)(a,o);return(0,n.h)("div",null,u[e.state.step])}},m);t.default=(0,i.connect)(d,h)(w),e.exports=t.default})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(20),n(6),n(141),n(75),n(3)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i,a,s){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var c=(u(r),u(o)),l=u(i),f=u(a),p=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(e){var t=e.actions.setDocumentType,r=e.data,o=r.title,i=r.hint;return(0,n.h)("div",{className:l.default.wrapper},(0,n.h)("div",{className:l.default.methods+" "+c.default.step},(0,n.h)("h1",{className:c.default.title},o),(0,n.h)("div",null,(0,n.h)("p",{className:c.default["mbottom-large"]},i),(0,n.h)(f.default,p({setDocumentType:t},e)))))};d.defaultProps={data:{hint:"Select the type of document you would like to upload",title:"Verify your identity"}},t.default=(0,s.impurify)(d),e.exports=t.default})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(142)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(r),a=function(){return(0,n.h)("div",{className:i.default.loader},(0,n.h)("div",{className:i.default.inner},(0,n.h)("div",null),(0,n.h)("div",null),(0,n.h)("div",null)))};t.default=a,e.exports=t.default})},function(e,t,n){var r,o,i;!function(a,s){o=[t,n(1),n(60),n(80),n(6),n(143),n(3)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.Uploader=void 0;var u=s(n),c=s(r),l=s(o),f=s(i),p=function(){return(0,t.h)("div",{className:f.default.base},(0,t.h)("span",{className:l.default.icon+" "+f.default.icon}),(0,t.h)("p",{className:f.default.text},"Take a photo with your camera or upload one from your library."))},d=function(){return(0,t.h)("div",{className:l.default.center},(0,t.h)(c.default,null),(0,t.h)("div",{className:f.default.processing},"Processing your document"))},h=function(e){var n=e.children;return(0,t.h)("div",{className:f.default.text+" "+f.default.error},n)},v=function(e){var n=e.message;return(0,t.h)(h,null,n)};v.defaultProps={message:"We are unable to detect an identity document in this image. Please try again."};var m=function(e){var n=e.message;return(0,t.h)(h,null,n)};m.defaultProps={message:"The file uploaded has an unsupported file type."};var y=function(e){var n=e.message;return(0,t.h)(h,null,n)},g=function(e){var n=e.message;return(0,t.h)(h,null,n)};y.defaultProps={
message:"The file size limit of 4MB has been exceeded. Please try again."},g.defaultProps={message:"There was an error connecting to the server. Please wait and try again later."},e.Uploader=(0,a.impurify)(function(e){var n=e.onImageSelected,r=e.uploading,o=e.error;return(0,t.h)(u.default,{onDrop:function(e){var t=e[0];URL.revokeObjectURL(t.preview),delete t.preview,n(t)},multiple:!1,className:f.default.dropzone},r?(0,t.h)(d,null):(0,t.h)(p,null),!r&&(0,a.functionalSwitch)(o,{INVALID_CAPTURE:function(){return(0,t.h)(v,null)},INVALID_TYPE:function(){return(0,t.h)(m,null)},INVALID_SIZE:function(){return(0,t.h)(y,null)},SERVER_ERROR:function(){return(0,t.h)(g,null)}}))})})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(6),n(144),n(3)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(r),u=a(o),c=function(e){var t=e.title,r=e.descriptions,o=e.nextButton,a=e.nextStep;return(0,n.h)("div",null,(0,n.h)("div",{className:s.default.step},(0,n.h)("h1",{className:s.default.title},t),(0,n.h)("div",{className:u.default["mtop-large"]+" "+s.default["mbottom-large"]},r.map(function(e){return(0,n.h)("p",null,e)})),(0,n.h)("a",{href:"",className:s.default.btn+" "+s.default["btn-centered"]+" "+s.default["btn-primary"],onClick:(0,i.preventDefaultOnClick)(a)},o)))};c.defaultProps={title:"Open your new bank account",descriptions:["To open a bank account, we will need to verify your identity.","It will only take a couple of minutes."],nextButton:"Verify Identity"},t.default=c,e.exports=t.default})},function(e,t,n){var r,o,i;!function(a,s){o=[t,n(4),n(34)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.postToServer=void 0;var o=r(n),i="https://sdk.onfido.com",a=function(e,t){var n=e.status,r=e.response;console.error(n,r),o.default.sendError(n+" - "+r),t()};e.postToServer=function(e,t,n,r,o){var s=new XMLHttpRequest,u=t?t:i;s.open("POST",u+"/validate_document"),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Authorization",n),s.onload=function(){200===s.status?r(JSON.parse(s.response)):a(s,o)},s.onerror=function(){return a(s,o)},s.send(e)}})},function(e,t,n){var r,o,i;!function(n,a){o=[e,t],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return Math.random().toString(36).substring(7)};t.default=n,e.exports=t.default})},function(e,t,n){e.exports={default:n(94),__esModule:!0}},function(e,t,n){e.exports={default:n(95),__esModule:!0}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(39),i=r(o);t.default=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(39),i=r(o);t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(85),i=r(o);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);e.length>t;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){var r,o,i;!function(a){"use strict";o=[n(7),n(41)],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,n){var r,o,i;if(!n||t+n>e.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(r=[],o=0;n>o;o+=1)i=e.getUint8(t+o),r.push((16>i?"0":"")+i.toString(16));return"data:image/jpeg,%"+r.join("%")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,n,r,o,i,a){var s,u,c,l,f,p,d=e.exifTagTypes[o];if(!d)return void console.log("Invalid Exif data: Invalid tag type.");if(s=d.size*i,u=s>4?n+t.getUint32(r+8,a):r+8,u+s>t.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===i)return d.getValue(t,u,a);for(c=[],l=0;i>l;l+=1)c[l]=d.getValue(t,u+l*d.size,a);if(d.ascii){for(f="",l=0;c.length>l&&(p=c[l],"\0"!==p);l+=1)f+=p;return f}return c},e.parseExifTag=function(t,n,r,o,i){var a=t.getUint16(r,o);i.exif[a]=e.getExifValue(t,n,r,t.getUint16(r+2,o),t.getUint32(r+4,o),o)},e.parseExifTags=function(e,t,n,r,o){var i,a,s;if(n+6>e.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(i=e.getUint16(n,r),a=n+2+12*i,a+4>e.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(s=0;i>s;s+=1)this.parseExifTag(e,t,n+2+12*s,r,o);return e.getUint32(a,r)},e.parseExifData=function(t,n,r,o,i){if(!i.disableExif){var a,s,u,c=n+10;if(1165519206===t.getUint32(n+4)){if(c+8>t.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(n+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(c+2,a))return void console.log("Invalid Exif data: Missing TIFF marker.");s=t.getUint32(c+4,a),o.exif=new e.ExifMap,s=e.parseExifTags(t,c,c+s,a,o),s&&!i.disableExifThumbnail&&(u={exif:{}},s=e.parseExifTags(t,c,c+s,a,u),u.exif[513]&&(o.exif.Thumbnail=e.getExifThumbnail(t,c+u.exif[513],u.exif[514]))),o.exif[34665]&&!i.disableExifSub&&e.parseExifTags(t,c,c+o.exif[34665],a,o),o.exif[34853]&&!i.disableExifGps&&e.parseExifTags(t,c,c+o.exif[34853],a,o)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)})},function(e,t,n){var r,o,i;!function(a){"use strict";o=[n(7),n(93),n(41)],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(function(e){"use strict";var t=e.hasCanvasOption,n=e.hasMetaOption,r=e.transformCoordinates,o=e.getTransformedOptions;e.hasCanvasOption=function(n){return!!n.orientation||t.call(e,n)},e.hasMetaOption=function(t){return t&&t.orientation===!0||n.call(e,t)},e.transformCoordinates=function(t,n){r.call(e,t,n);var o=t.getContext("2d"),i=t.width,a=t.height,s=t.style.width,u=t.style.height,c=n.orientation;if(c&&8>=c)switch(c>4&&(t.width=a,t.height=i,t.style.width=u,t.style.height=s),c){case 2:o.translate(i,0),o.scale(-1,1);break;case 3:o.translate(i,a),o.rotate(Math.PI);break;case 4:o.translate(0,a),o.scale(1,-1);break;case 5:o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:o.rotate(.5*Math.PI),o.translate(0,-a);break;case 7:o.rotate(.5*Math.PI),o.translate(i,-a),o.scale(-1,1);break;case 8:o.rotate(-.5*Math.PI),o.translate(-i,0)}},e.getTransformedOptions=function(t,n,r){var i,a,s=o.call(e,t,n),u=s.orientation;if(u===!0&&r&&r.exif&&(u=r.exif.get("Orientation")),!u||u>8||1===u)return s;i={};for(a in s)s.hasOwnProperty(a)&&(i[a]=s[a]);switch(i.orientation=u,u){case 2:i.left=s.right,i.right=s.left;break;case 3:i.left=s.right,i.top=s.bottom,i.right=s.left,i.bottom=s.top;break;case 4:i.top=s.bottom,i.bottom=s.top;break;case 5:i.left=s.top,i.top=s.left,i.right=s.bottom,i.bottom=s.right;break;case 6:i.left=s.top,i.top=s.right,i.right=s.bottom,i.bottom=s.left;break;case 7:i.left=s.bottom,i.top=s.right,i.right=s.top,i.bottom=s.left;break;case 8:i.left=s.bottom,i.top=s.left,i.right=s.top,i.bottom=s.right}return i.orientation>4&&(i.maxWidth=s.maxHeight,i.maxHeight=s.maxWidth,i.minWidth=s.minHeight,i.minHeight=s.minWidth,i.sourceWidth=s.sourceHeight,i.sourceHeight=s.sourceWidth),i}})},function(e,t,n){var r,o,i;!function(a){"use strict";o=[n(7)],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(function(e){"use strict";var t=e.transform;e.transform=function(n,r,o,i,a){t.call(e,e.scale(n,r,a),r,o,i,a)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var n,r,o,i,a=t.aspectRatio;if(!a)return t;n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n.crop=!0,o=e.naturalWidth||e.width,i=e.naturalHeight||e.height,o/i>a?(n.maxWidth=i*a,n.maxHeight=i):(n.maxWidth=o,n.maxHeight=o/a),n},e.renderImageToCanvas=function(e,t,n,r,o,i,a,s,u,c){return e.getContext("2d").drawImage(t,n,r,o,i,a,s,u,c),e},e.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,n,r){function o(){var e=Math.max((u||w)/w,(c||k)/k);e>1&&(w*=e,k*=e)}function i(){var e=Math.min((a||w)/w,(s||k)/k);1>e&&(w*=e,k*=e)}n=n||{};var a,s,u,c,l,f,p,d,h,v,m,y=document.createElement("canvas"),g=t.getContext||e.hasCanvasOption(n)&&y.getContext,b=t.naturalWidth||t.width,_=t.naturalHeight||t.height,w=b,k=_;if(g&&(n=e.getTransformedOptions(t,n,r),p=n.left||0,d=n.top||0,n.sourceWidth?(l=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(p=b-l-n.right)):l=b-p-(n.right||0),n.sourceHeight?(f=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(d=_-f-n.bottom)):f=_-d-(n.bottom||0),w=l,k=f),a=n.maxWidth,s=n.maxHeight,u=n.minWidth,c=n.minHeight,g&&a&&s&&n.crop?(w=a,k=s,m=l/f-a/s,0>m?(f=s*l/a,void 0===n.top&&void 0===n.bottom&&(d=(_-f)/2)):m>0&&(l=a*f/s,void 0===n.left&&void 0===n.right&&(p=(b-l)/2))):((n.contain||n.cover)&&(u=a=a||u,c=s=s||c),n.cover?(i(),o()):(o(),i())),g){if(h=n.pixelRatio,h>1&&(y.style.width=w+"px",y.style.height=k+"px",w*=h,k*=h,y.getContext("2d").scale(h,h)),v=n.downsamplingRatio,v>0&&1>v&&l>w&&f>k)for(;l*v>w;)y.width=l*v,y.height=f*v,e.renderImageToCanvas(y,t,p,d,l,f,0,0,y.width,y.height),p=0,d=0,l=y.width,f=y.height,t=document.createElement("canvas"),t.width=l,t.height=f,e.renderImageToCanvas(t,y,0,0,l,f,0,0,l,f);return y.width=w,y.height=k,e.transformCoordinates(y,n),e.renderImageToCanvas(y,t,p,d,l,f,0,0,w,k)}return t.width=w,t.height=k,t}})},function(e,t,n){n(124),n(121),e.exports=n(8).Array.from},function(e,t,n){n(122),e.exports=n(8).Object.assign},function(e,t,n){n(123);var r=n(8).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(50),o=n(51),i=n(118);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=o(u.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(42),o=n(5)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";var r=n(11),o=n(25);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){e.exports=n(10).document&&document.documentElement},function(e,t,n){e.exports=!n(9)&&!n(22)(function(){return 7!=Object.defineProperty(n(44)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(24),o=n(5)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(14);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){"use strict";var r=n(110),o=n(25),i=n(48),a={};n(17)(a,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(108),o=n(15),i=n(116),a=n(17),s=n(16),u=n(24),c=n(105),l=n(48),f=n(113),p=n(5)("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",m="values",y=function(){return this};e.exports=function(e,t,n,g,b,_,w){c(n,t,g);var k,x,E,O=function(e){if(!d&&e in T)return T[e];switch(e){case v:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",S=b==m,P=!1,T=e.prototype,j=T[p]||T[h]||b&&T[b],M=j||O(b),A=b?S?O("entries"):M:void 0,D="Array"==t?T.entries||j:j;if(D&&(E=f(D.call(new e)),E!==Object.prototype&&(l(E,C,!0),r||s(E,p)||a(E,p,y))),S&&j&&j.name!==m&&(P=!0,M=function(){return j.call(this)}),r&&!w||!d&&!P&&T[p]||a(T,p,M),u[t]=M,u[C]=y,b)if(k={values:S?M:O(m),keys:_?M:O(v),entries:A},w)for(x in k)x in T||i(T,x,k[x]);else o(o.P+o.F*(d||P),t,k);return k}},function(e,t,n){var r=n(5)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t){e.exports=!0},function(e,t,n){"use strict";var r=n(47),o=n(112),i=n(115),a=n(28),s=n(46),u=Object.assign;e.exports=!u||n(22)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,c=1,l=o.f,f=i.f;u>c;)for(var p,d=s(arguments[c++]),h=l?r(d).concat(l(d)):r(d),v=h.length,m=0;v>m;)f.call(d,p=h[m++])&&(n[p]=d[p]);return n}:u},function(e,t,n){var r=n(14),o=n(111),i=n(45),a=n(26)("IE_PROTO"),s=function(){},u="prototype",c=function(){var e,t=n(44)("iframe"),r=i.length,o="<",a=">";for(t.style.display="none",n(101).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(o+"script"+a+"document.F=Object"+o+"/script"+a),e.close(),c=e.F;r--;)delete c[u][i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[u]=r(e),n=new s,s[u]=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(11),o=n(14),i=n(47);e.exports=n(9)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(16),o=n(28),i=n(26)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(16),o=n(50),i=n(98)(!1),a=n(26)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~i(c,n)||c.push(n));return c}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){e.exports=n(17)},function(e,t,n){var r=n(27),o=n(21);e.exports=function(e){return function(t,n){var i,a,s=o(t)+"",u=r(n),c=s.length;return 0>u||u>=c?e?"":void 0:(i=s.charCodeAt(u),55296>i||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):(i-55296<<10)+(a-56320)+65536)}}},function(e,t,n){var r=n(27),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),0>e?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(23);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(99),o=n(5)("iterator"),i=n(24);e.exports=n(8).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){"use strict";var r=n(43),o=n(15),i=n(28),a=n(104),s=n(103),u=n(51),c=n(100),l=n(120);o(o.S+o.F*!n(107)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,p=i(e),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,y=0,g=l(p);if(m&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==g||d==Array&&s(g))for(t=u(p.length),n=new d(t);t>y;y++)c(n,y,m?v(p[y],y):p[y]);else for(f=g.call(p),n=new d;!(o=f.next()).done;y++)c(n,y,m?a(f,v,[o.value,y],!0):o.value);return n.length=y,n}})},function(e,t,n){var r=n(15);r(r.S+r.F,"Object",{assign:n(109)})},function(e,t,n){var r=n(15);r(r.S+r.F*!n(9),"Object",{defineProperty:n(11).f})},function(e,t,n){"use strict";var r=n(117)(!0);n(106)(String,"String",function(e){this._t=e+"",this._i=0},function(){var e,t=this._t,n=this._i;return t.length>n?(e=r(t,n),this._i+=e.length,{value:e,done:!1}):{value:void 0,done:!0}})},function(e,t,n){var r,o;!function(i,a){r=a,o="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==o&&(e.exports=o))}(this,function(e,t,n){var r=function(e,t,n,r,o,i){for(var a=0,s=["webkit","moz","ms","o"],u=0;s.length>u&&!window.requestAnimationFrame;++u)window.requestAnimationFrame=window[s[u]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[u]+"CancelAnimationFrame"]||window[s[u]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-a)),o=window.setTimeout(function(){e(n+r)},r);return a=n+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)});var c=this;c.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:null,formattingFn:null};for(var l in i)i.hasOwnProperty(l)&&(c.options[l]=i[l]);""===c.options.separator&&(c.options.useGrouping=!1),c.options.prefix||(c.options.prefix=""),c.options.suffix||(c.options.suffix=""),c.d="string"==typeof e?document.getElementById(e):e,c.startVal=+t,c.endVal=+n,c.countDown=c.startVal>c.endVal,c.frameVal=c.startVal,c.decimals=Math.max(0,r||0),c.dec=Math.pow(10,c.decimals),c.duration=1e3*+o||2e3,c.formatNumber=function(e){e=e.toFixed(c.decimals),e+="";var t,n,r,o;if(t=e.split("."),n=t[0],r=t.length>1?c.options.decimal+t[1]:"",o=/(\d+)(\d{3})/,c.options.useGrouping)for(;o.test(n);)n=n.replace(o,"$1"+c.options.separator+"$2");return c.options.prefix+n+r+c.options.suffix},c.easeOutExpo=function(e,t,n,r){return n*(-Math.pow(2,-10*e/r)+1)*1024/1023+t},c.easingFn=c.options.easingFn?c.options.easingFn:c.easeOutExpo,c.formattingFn=c.options.formattingFn?c.options.formattingFn:c.formatNumber,c.version=function(){return"1.7.1"},c.printValue=function(e){var t=c.formattingFn(e);"INPUT"===c.d.tagName?this.d.value=t:"text"===c.d.tagName||"tspan"===c.d.tagName?this.d.textContent=t:this.d.innerHTML=t},c.count=function(e){c.startTime||(c.startTime=e),c.timestamp=e;var t=e-c.startTime;c.remaining=c.duration-t,c.frameVal=c.options.useEasing?c.countDown?c.startVal-c.easingFn(t,0,c.startVal-c.endVal,c.duration):c.easingFn(t,c.startVal,c.endVal-c.startVal,c.duration):c.countDown?c.startVal-(c.startVal-c.endVal)*(t/c.duration):c.startVal+(c.endVal-c.startVal)*(t/c.duration),c.frameVal=c.countDown?c.endVal>c.frameVal?c.endVal:c.frameVal:c.frameVal>c.endVal?c.endVal:c.frameVal,c.frameVal=Math.round(c.frameVal*c.dec)/c.dec,c.printValue(c.frameVal),c.duration>t?c.rAF=requestAnimationFrame(c.count):c.callback&&c.callback()},c.start=function(e){return c.callback=e,c.rAF=requestAnimationFrame(c.count),!1},c.pauseResume=function(){c.paused?(c.paused=!1,delete c.startTime,c.duration=c.remaining,c.startVal=c.frameVal,requestAnimationFrame(c.count)):(c.paused=!0,cancelAnimationFrame(c.rAF))},c.reset=function(){c.paused=!1,delete c.startTime,c.startVal=t,cancelAnimationFrame(c.rAF),c.printValue(c.startVal)},c.update=function(e){cancelAnimationFrame(c.rAF),c.paused=!1,delete c.startTime,c.startVal=c.frameVal,c.endVal=+e,c.countDown=c.startVal>c.endVal,c.rAF=requestAnimationFrame(c.count)},c.printValue(c.startVal)};return r})},function(e,t,n){function r(e){return null===e||void 0===e}function o(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&"function"==typeof e.copy&&"function"==typeof e.slice&&(0>=e.length||"number"==typeof e[0])}function i(e,t,n){var i,l;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(u(e))return!!u(t)&&(e=a.call(e),t=a.call(t),c(e,t,n));if(o(e)){if(!o(t))return!1;if(e.length!==t.length)return!1;for(i=0;e.length>i;i++)if(e[i]!==t[i])return!1;return!0}try{var f=s(e),p=s(t)}catch(e){return!1}if(f.length!=p.length)return!1;for(f.sort(),p.sort(),i=f.length-1;i>=0;i--)if(f[i]!=p[i])return!1;for(i=f.length-1;i>=0;i--)if(l=f[i],!c(e[l],t[l],n))return!1;return typeof e==typeof t}var a=Array.prototype.slice,s=n(128),u=n(127),c=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:i(e,t,n))}},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=o?n:r,t.supported=n,t.unsupported=r},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){function n(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}function r(e){return this instanceof r?(e||(e={}),e.nodeType&&(e={el:e}),this.opts=e,this.el=e.el||document.body,"object"!=typeof this.el&&(this.el=document.querySelector(this.el)),void 0):new r(e)}e.exports=function(e){return new r(e)},r.prototype.add=function(e){var t=this.el;if(t){if(""===t.className)return t.className=e;var r=t.className.split(" ");return n(r,e)>-1?r:(r.push(e),t.className=r.join(" "),r)}},r.prototype.remove=function(e){var t=this.el;if(t&&""!==t.className){var r=t.className.split(" "),o=n(r,e);return o>-1&&r.splice(o,1),t.className=r.join(" "),r}},r.prototype.has=function(e){var t=this.el;if(t){var r=t.className.split(" ");return n(r,e)>-1}},r.prototype.toggle=function(e){var t=this.el;t&&(this.has(e)?this.remove(e):this.add(e))}},function(e,t){e.exports=function(e){if("function"!=typeof Promise){var t=Error("Device enumeration not supported.");if(t.kind="METHOD_NOT_AVAILABLE",e)return console.warn("module now uses promise based api - callback is deprecated"),e(t);throw t}return new Promise(function(t,n){var r=function(n){for(var r=[],o=0;n.length>o;o++){var i=n[o],a=i.kind||null;a&&"audio"===a.toLowerCase()?a="audioinput":a&&"video"===a.toLowerCase()&&(a="videoinput"),r.push({facing:i.facing||null,deviceId:i.id||i.deviceId||null,label:i.label||null,kind:a,groupId:i.groupId||null})}t(r),e&&(console.warn("module now uses promise based api - callback is deprecated"),e(null,r))};if(window.navigator&&window.navigator.mediaDevices&&window.navigator.mediaDevices.enumerateDevices)window.navigator.mediaDevices.enumerateDevices().then(r);else if(window.MediaStreamTrack&&window.MediaStreamTrack.getSources)window.MediaStreamTrack.getSources(r);else{var o=Error("Device enumeration not supported.");o.kind="METHOD_NOT_AVAILABLE",n(o),e&&(console.warn("module now uses promise based api - callback is deprecated"),e(o))}})}},function(e,t,n){var r;!function(o){function i(){this._events={},this._conf&&a.call(this,this._conf)}function a(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._events.maxListeners=e.maxListeners!==o?e.maxListeners:p,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._events.maxListeners=p}function s(e,t){var n="(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.";this.verboseMemoryLeak?(n+=" Event name: %s.",console.error(n,e,t)):console.error(n,e),console.trace&&console.trace()}function u(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,a.call(this,e)}function c(e,t,n,r){if(!n)return[];var o,i,a,s,u,l,f,p=[],d=t.length,h=t[r],v=t[r+1];if(r===d&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(o=0,i=n._listeners.length;i>o;o++)e&&e.push(n._listeners[o]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(p=p.concat(c(e,t,n[a],r+1)));return p}if("**"===h){f=r+1===d||r+2===d&&"*"===v,f&&n._listeners&&(p=p.concat(c(e,t,n,d)));for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!f&&(p=p.concat(c(e,t,n[a],d))),p=p.concat(c(e,t,n[a],r))):p=p.concat(a===v?c(e,t,n[a],r+2):c(e,t,n[a],r)));return p}p=p.concat(c(e,t,n[h],r+1))}if(s=n["*"],s&&c(e,t,s,r+1),u=n["**"])if(d>r){u._listeners&&c(e,t,u,d);for(a in u)"_listeners"!==a&&u.hasOwnProperty(a)&&(a===v?c(e,t,u[a],r+2):a===h?c(e,t,u[a],r+1):(l={},l[a]=u[a],c(e,t,{"**":l},r+1)))}else u._listeners?c(e,t,u,d):u["*"]&&u["*"]._listeners&&c(e,t,u["*"],d);return p}function l(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var n=0,r=e.length;r>n+1;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,a=e.shift();a!==o;){if(i[a]||(i[a]={}),i=i[a],0===e.length)return i._listeners?("function"==typeof i._listeners&&(i._listeners=[i._listeners]),i._listeners.push(t),!i._listeners.warned&&this._events.maxListeners>0&&i._listeners.length>this._events.maxListeners&&(i._listeners.warned=!0,s.call(this,i._listeners.length,a))):i._listeners=t,!0;a=e.shift()}return!0}var f=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},p=10;u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(e){e!==o&&(this._events||i.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},u.prototype.event="",u.prototype.once=function(e,t){return this.many(e,1,t),this},u.prototype.many=function(e,t,n){function r(){0===--t&&o.off(e,r),n.apply(this,arguments)}var o=this;if("function"!=typeof n)throw Error("many only accepts instances of Function");return r._origin=n,this.on(e,r),o},u.prototype.emit=function(){this._events||i.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,o,a,s=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),s>3)for(t=Array(s),o=0;s>o;o++)t[o]=arguments[o];for(r=0,n=a.length;n>r;r++)switch(this.event=e,s){case 1:a[r].call(this,e);break;case 2:a[r].call(this,e,arguments[1]);break;case 3:a[r].call(this,e,arguments[1],arguments[2]);break;default:a[r].apply(this,t)}}if(this.wildcard){a=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();c.call(this,a,u,this.listenerTree,0)}else{if(a=this._events[e],"function"==typeof a){switch(this.event=e,s){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=Array(s-1),o=1;s>o;o++)t[o-1]=arguments[o];a.apply(this,t)}return!0}a&&(a=a.slice())}if(a&&a.length){if(s>3)for(t=Array(s-1),o=1;s>o;o++)t[o-1]=arguments[o];for(r=0,n=a.length;n>r;r++)switch(this.event=e,s){case 1:a[r].call(this);break;case 2:a[r].call(this,arguments[1]);break;case 3:a[r].call(this,arguments[1],arguments[2]);break;default:a[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||i.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,r,o,a,s=[],u=arguments.length;if(this._all){if(u>3)for(t=Array(u),o=1;u>o;o++)t[o]=arguments[o];for(r=0,n=this._all.length;n>r;r++)switch(this.event=e,u){case 1:s.push(this._all[r].call(this,e));break;case 2:s.push(this._all[r].call(this,e,arguments[1]));break;case 3:s.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[r].apply(this,t))}}if(this.wildcard){a=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();c.call(this,a,l,this.listenerTree,0)}else a=this._events[e];if("function"==typeof a)switch(this.event=e,u){case 1:s.push(a.call(this));break;case 2:s.push(a.call(this,arguments[1]));break;case 3:s.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=Array(u-1),o=1;u>o;o++)t[o-1]=arguments[o];s.push(a.apply(this,t))}else if(a&&a.length){if(u>3)for(t=Array(u-1),o=1;u>o;o++)t[o-1]=arguments[o];for(r=0,n=a.length;n>r;r++)switch(this.event=e,u){case 1:s.push(a[r].call(this));break;case 2:s.push(a[r].call(this,arguments[1]));break;case 3:s.push(a[r].call(this,arguments[1],arguments[2]));break;default:s.push(a[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},u.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw Error("on only accepts instances of Function");return this._events||i.call(this),this.emit("newListener",e,t),this.wildcard?(l.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),this._events[e].push(t),!this._events[e].warned&&this._events.maxListeners>0&&this._events[e].length>this._events.maxListeners&&(this._events[e].warned=!0,s.call(this,this._events[e].length,e))):this._events[e]=t,this)},u.prototype.onAny=function(e){if("function"!=typeof e)throw Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},u.prototype.addListener=u.prototype.on,u.prototype.off=function(e,t){function n(e){if(e!==o){var t=Object.keys(e);for(var r in t){var i=t[r],a=e[i];a instanceof Function||"object"!=typeof a||null===a||(Object.keys(a).length>0&&n(e[i]),0===Object.keys(a).length&&delete e[i])}}}if("function"!=typeof t)throw Error("removeListener only takes instances of Function");var r,i=[];if(this.wildcard){var a="string"==typeof e?e.split(this.delimiter):e.slice();i=c.call(this,null,a,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r})}for(var s=0;i.length>s;s++){var u=i[s];if(r=u._listeners,f(r)){for(var l=-1,p=0,d=r.length;d>p;p++)if(r[p]===t||r[p].listener&&r[p].listener===t||r[p]._origin&&r[p]._origin===t){l=p;break}if(0>l)continue;return this.wildcard?u._listeners.splice(l,1):this._events[e].splice(l,1),0===r.length&&(this.wildcard?delete u._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete u._listeners:delete this._events[e],this.emit("removeListener",e,t))}return n(this.listenerTree),this},u.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;r>n;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,n=0,r=t.length;r>n;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||i.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=c.call(this,null,t,this.listenerTree,0),r=0;n.length>r;r++){
var o=n[r];o._listeners=null}else this._events&&(this._events[e]=null);return this},u.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return c.call(this,t,n,this.listenerTree,0),t}return this._events||i.call(this),this._events[e]||(this._events[e]=[]),f(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},u.prototype.listenerCount=function(e){return this.listeners(e).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},r=function(){return u}.call(t,n,t,e),!(r!==o&&(e.exports=r))}()},function(e,t,n){var r;/*!
	  Copyright (c) 2015 Jed Watson.
	  Based on code that is Copyright 2013-2015, Facebook, Inc.
	  All rights reserved.
	*/
!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};r=function(){return i}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}()},function(e,t){e.exports={"video-overlay":"onfido-sdk-ui-Camera-video-overlay",video:"onfido-sdk-ui-Camera-video",uploadFallback:"onfido-sdk-ui-Camera-uploadFallback"}},function(e,t){e.exports={camera:"onfido-sdk-ui-Capture-camera",uploader:"onfido-sdk-ui-Capture-uploader"}},function(e,t){e.exports={icon:"onfido-sdk-ui-Complete-icon"}},function(e,t){e.exports={countdown:"onfido-sdk-ui-Countdown-countdown"}},function(e,t){e.exports={capture:"onfido-sdk-ui-Document-capture",rectangle:"onfido-sdk-ui-Document-rectangle"}},function(e,t){e.exports={option:"onfido-sdk-ui-DocumentSelector-option",icon:"onfido-sdk-ui-DocumentSelector-icon","icon-passport":"onfido-sdk-ui-DocumentSelector-icon-passport","icon-identity":"onfido-sdk-ui-DocumentSelector-icon-identity","icon-license":"onfido-sdk-ui-DocumentSelector-icon-license",selector:"onfido-sdk-ui-DocumentSelector-selector"}},function(e,t){e.exports={circle:"onfido-sdk-ui-Face-circle",instructions:"onfido-sdk-ui-Face-instructions"}},function(e,t){e.exports={modal_animation_duration:"200ms",portal:"onfido-sdk-ui-Modal-portal",modalBody:"onfido-sdk-ui-Modal-modalBody",overlay:"onfido-sdk-ui-Modal-overlay","overlay--after-open":"onfido-sdk-ui-Modal-overlay--after-open","overlay--before-close":"onfido-sdk-ui-Modal-overlay--before-close",inner:"onfido-sdk-ui-Modal-inner",content:"onfido-sdk-ui-Modal-content"}},function(e,t){e.exports={methods:"onfido-sdk-ui-Select-methods",wrapper:"onfido-sdk-ui-Select-wrapper"}},function(e,t){e.exports={loader:"onfido-sdk-ui-Spinner-loader",inner:"onfido-sdk-ui-Spinner-inner","ball-scale-ripple-multiple":"onfido-sdk-ui-Spinner-ball-scale-ripple-multiple"}},function(e,t){e.exports={base:"onfido-sdk-ui-Uploader-base",text:"onfido-sdk-ui-Uploader-text",error:"onfido-sdk-ui-Uploader-error",processing:"onfido-sdk-ui-Uploader-processing",icon:"onfido-sdk-ui-Uploader-icon",dropzone:"onfido-sdk-ui-Uploader-dropzone"}},function(e,t){e.exports={"mtop-large":"onfido-sdk-ui-Welcome-mtop-large"}},function(e,t){"use strict";t.__esModule=!0,t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getConfirmation=function(e,t){return t(window.confirm(e))},t.supportsHistory=function(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&window.history&&"pushState"in window.history},t.supportsPopStateOnHashChange=function(){return window.navigator.userAgent.indexOf("Trident")===-1},t.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&navigator.userAgent.indexOf("CriOS")===-1}},function(e,t){"use strict";t.__esModule=!0,t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var o=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(196),a=r(i),s=n(203),u=r(s),c=n(54);t.createLocation=function(e,t,n,r){var i=void 0;return"string"==typeof e?(i=(0,c.parsePath)(e),i.state=t):(i=o({},e),void 0===i.pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t)),i.key=n,r&&(i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=(0,a.default)(i.pathname,r.pathname)):i.pathname=r.pathname),i},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,u.default)(e.state,t.state)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),i=n(67),a=(r(i),n(55)),s=r(a),u=n(147),c=n(54),l=n(149),f=r(l),p=n(146),d=n(145),h="popstate",v="hashchange",m=function(){try{return window.history.state||{}}catch(e){return{}}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p.canUseDOM?void 0:(0,s.default)(!1);var t=window.history,n=(0,d.supportsHistory)(),r=!(0,d.supportsPopStateOnHashChange)(),i=e.basename,a=void 0===i?"":i,l=e.forceRefresh,y=void 0!==l&&l,g=e.getUserConfirmation,b=void 0===g?d.getConfirmation:g,_=e.keyLength,w=void 0===_?6:_,k=function(e){var t=e||{},n=t.key,r=t.state,i=window.location,s=i.pathname,u=i.search,l=i.hash,f=s+u+l;return a&&(f=(0,c.stripPrefix)(f,a)),o({},(0,c.parsePath)(f),{state:r,key:n})},x=function(){return Math.random().toString(36).substr(2,w)},E=(0,f.default)(),O=function(e){o(q,e),q.length=t.length,E.notifyListeners(q.location,q.action)},C=function(e){(0,d.isExtraneousPopstateEvent)(e)||T(k(e.state))},S=function(){T(k(m()))},P=!1,T=function(e){P?(P=!1,O()):!function(){var t="POP";E.confirmTransitionTo(e,t,b,function(n){n?O({action:t,location:e}):j(e)})}()},j=function(e){var t=q.location,n=A.indexOf(t.key);n===-1&&(n=0);var r=A.indexOf(e.key);r===-1&&(r=0);var o=n-r;o&&(P=!0,I(o))},M=k(m()),A=[M.key],D=function(e){return a+(0,c.createPath)(e)},N=function(e,r){var o="PUSH",i=(0,u.createLocation)(e,r,x(),q.location);E.confirmTransitionTo(i,o,b,function(e){if(e){var r=D(i),a=i.key,s=i.state;if(n)if(t.pushState({key:a,state:s},null,r),y)window.location.href=r;else{var u=A.indexOf(q.location.key),c=A.slice(0,u===-1?0:u+1);c.push(i.key),A=c,O({action:o,location:i})}else window.location.href=r}})},R=function(e,r){var o="REPLACE",i=(0,u.createLocation)(e,r,x(),q.location);E.confirmTransitionTo(i,o,b,function(e){if(e){var r=D(i),a=i.key,s=i.state;if(n)if(t.replaceState({key:a,state:s},null,r),y)window.location.replace(r);else{var u=A.indexOf(q.location.key);u!==-1&&(A[u]=i.key),O({action:o,location:i})}else window.location.replace(r)}})},I=function(e){t.go(e)},U=function(){return I(-1)},L=function(){return I(1)},W=0,F=function(e){W+=e,1===W?((0,d.addEventListener)(window,h,C),r&&(0,d.addEventListener)(window,v,S)):0===W&&((0,d.removeEventListener)(window,h,C),r&&(0,d.removeEventListener)(window,v,S))},B=!1,H=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=E.setPrompt(e);return B||(F(1),B=!0),function(){return B&&(B=!1,F(-1)),t()}},V=function(e){var t=E.appendListener(e);return F(1),function(){return F(-1),t()}},q={length:t.length,action:"POP",location:M,createHref:D,push:N,replace:R,go:I,goBack:U,goForward:L,block:H,listen:V};return q};t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(67),i=(r(o),function(){var e=null,t=function(t){return e=t,function(){e===t&&(e=null)}},n=function(t,n,r,o){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,o):o(!0):o(i!==!1)}else o(!0)},r=[],o=function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}},i=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})};return{setPrompt:t,confirmTransitionTo:n,appendListener:o,notifyListeners:i}});t.default=i},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,i){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);o&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;a.length>s;++s)if(!(n[a[s]]||r[a[s]]||i&&i[a[s]]))try{e[a[s]]=t[a[s]]}catch(e){}}return e}},function(e,t){function n(e,t,n,o){return JSON.stringify(e,r(t,o),n)}function r(e,t){var n=[],r=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"}),function(o,i){if(n.length>0){var a=n.indexOf(this);~a?n.splice(a+1):n.push(this),~a?r.splice(a,1/0,o):r.push(o),~n.indexOf(i)&&(i=t.call(this,o,i))}else n.push(i);return null==e?i:e.call(this,o,i)}}t=e.exports=n,t.getSerialize=r},function(e,t,n){function r(e){return null==e?void 0===e?u:s:c&&c in Object(e)?i(e):a(e)}var o=n(56),i=n(155),a=n(156),s="[object Null]",u="[object Undefined]",c=o?o.toStringTag:void 0;e.exports=r},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){var r=n(157),o=r(Object.getPrototypeOf,Object);e.exports=o},function(e,t,n){function r(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=s.call(e);return r&&(t?e[u]=n:delete e[u]),o}var o=n(56),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,u=o?o.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(153),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){function r(e,t,n){function r(e,r,o){var i=t.call(n,r,e,o);a[i]=e}if("function"!=typeof t)throw new TypeError(t+" must be a function");var i=Array.isArray(e),a=i?[]:{};return i?e.forEach(r):o(e,r),a}var o=n(30);e.exports=r},function(e,t,n){var r,o,i;!function(n,a){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=a():(o=[],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i)))}(this,function(){"use strict";function e(e){if(!e)return!0;if(i(e)&&0===e.length)return!0;if(!r(e)){for(var t in e)if(f.call(e,t))return!1;return!0}return!1}function t(e){return l.call(e)}function n(e){return"number"==typeof e||"[object Number]"===t(e)}function r(e){return"string"==typeof e||"[object String]"===t(e)}function o(e){return"object"==typeof e&&"[object Object]"===t(e)}function i(e){return"object"==typeof e&&"number"==typeof e.length&&"[object Array]"===t(e)}function a(e){return"boolean"==typeof e||"[object Boolean]"===t(e)}function s(e){var t=parseInt(e);return""+t===e?t:e}function u(t,o,i,a){if(n(o)&&(o=[o]),e(o))return t;if(r(o))return u(t,o.split(".").map(s),i,a);var c=o[0];if(1===o.length){var l=t[c];return void 0!==l&&a||(t[c]=i),l}return void 0===t[c]&&(t[c]=n(o[1])?[]:{}),u(t[c],o.slice(1),i,a)}function c(t,o){if(n(o)&&(o=[o]),!e(t)){if(e(o))return t;if(r(o))return c(t,o.split("."));var a=s(o[0]),u=t[a];if(1===o.length)void 0!==u&&(i(t)?t.splice(a,1):delete t[a]);else if(void 0!==t[a])return c(t[a],o.slice(1));return t}}var l=Object.prototype.toString,f=Object.prototype.hasOwnProperty,p=function(e){return Object.keys(p).reduce(function(t,n){return"function"==typeof p[n]&&(t[n]=p[n].bind(p,e)),t},{})};return p.has=function(t,a){if(e(t))return!1;if(n(a)?a=[a]:r(a)&&(a=a.split(".")),e(a)||0===a.length)return!1;for(var s=0;a.length>s;s++){var u=a[s];if(!o(t)&&!i(t)||!f.call(t,u))return!1;t=t[u]}return!0},p.ensureExists=function(e,t,n){return u(e,t,n,!0)},p.set=function(e,t,n,r){return u(e,t,n,r)},p.insert=function(e,t,n,r){var o=p.get(e,t);r=~~r,i(o)||(o=[],p.set(e,t,o)),o.splice(r,0,n)},p.empty=function(t,s){if(e(s))return t;if(!e(t)){var u,c;if(!(u=p.get(t,s)))return t;if(r(u))return p.set(t,s,"");if(a(u))return p.set(t,s,!1);if(n(u))return p.set(t,s,0);if(i(u))u.length=0;else{if(!o(u))return p.set(t,s,null);for(c in u)f.call(u,c)&&delete u[c]}}},p.push=function(e,t){var n=p.get(e,t);i(n)||(n=[],p.set(e,t,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},p.coalesce=function(e,t,n){for(var r,o=0,i=t.length;i>o;o++)if(void 0!==(r=p.get(e,t[o])))return r;return n},p.get=function(t,o,i){if(n(o)&&(o=[o]),e(o))return t;if(e(t))return i;if(r(o))return p.get(t,o.split("."),i);var a=s(o[0]);return 1===o.length?void 0===t[a]?i:t[a]:p.get(t[a],o.slice(1),i)},p.del=function(e,t){return c(e,t)},p})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=u.default.stringify({jwt:e});return t+"?"+n}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.SOCKET_URL,n="WebSocket"in window;h(n);try{if(!n)throw"WebSockets not supported";var r=i(e,t),o=new l.default;return o.connect(r),o}catch(e){console.log(e)}}t.__esModule=!0,t.default=a;var s=n(172),u=o(s),c=n(163),l=o(c),f=n(31),p=n(12),d=r(p),h=f.actions.setWebSocketSupport},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(87),i=r(o),a=n(88),s=r(a),u=n(58),c=r(u),l=n(31),f=n(190),p=r(f),d=l.actions.setWebSocketError,h=l.actions.setAuthenticated,v=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,[{key:"connect",value:function(e){var t=this,n=new p.default(e);n.onerror=function(e){c.default.emit("onError"),d(!0)},n.onopen=function(){t.socket=n,t.onMessage(),h(!0)}}},{key:"onMessage",value:function(){this.socket.onmessage=function(e){var t=JSON.parse(e.data);c.default.emit("onMessage",t)}}},{key:"sendMessage",value:function(e){this.socket.send(e)}}]),e}();t.default=v},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.deleteCaptures=t.confirmCapture=t.validateCapture=t.createCapture=void 0;var i=n(40),a=o(i),s=n(12),u=r(s),c=function(e){return e},l=function(e,t){return function(n){return{type:e,payload:(t||c)(n)}}};t.createCapture=l(u.CAPTURE_CREATE,function(e){return(0,a.default)({maxCaptures:3},e)}),t.validateCapture=l(u.CAPTURE_VALIDATE,function(e){return(0,a.default)({valid:!0},e)}),t.confirmCapture=l(u.CAPTURE_CONFIRM),t.deleteCaptures=l(u.CAPTURE_DELETE)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return{type:c.SET_WEBSOCKET_SUPPORT,payload:e}}function i(e){return{type:c.SET_WEBSOCKET_ERROR,payload:e}}function a(e){return{type:c.SET_DOCUMENT_TYPE,payload:e}}function s(e){return{type:c.SET_AUTHENTICATED,payload:e}}t.__esModule=!0,t.setWebSocketSupport=o,t.setWebSocketError=i,t.setDocumentType=a,t.setAuthenticated=s;var u=n(12),c=r(u)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments[1],n=t.payload||{},r=n.method,o=e[r],i=function(t){return(0,f.default)({},e,(0,c.default)({},r,t))},a=y.bind(this,o,function(e){return e.id===n.id});switch(t.type){case d.CAPTURE_CREATE:var u=n.maxCaptures,l=n.capture,p=o.slice(0,u-1);return i([l].concat((0,s.default)(p)));case d.CAPTURE_VALIDATE:var h=a({valid:n.valid,processed:!0});return i(h);case d.CAPTURE_CONFIRM:var v=a({confirmed:!0});return i(v);case d.CAPTURE_DELETE:var g=o.filter(function(e){return e.side!==n.side});return i(g);default:return e}}t.__esModule=!0;var a=n(90),s=o(a),u=n(89),c=o(u),l=n(40),f=o(l);t.captures=i;var p=n(12),d=r(p),h=n(18),v=o(h),m={document:[],face:[]},y=function(e,t,n){return e.map(function(e){return t(e)?(0,v.default)({},e,n):e})}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case c.SET_AUTHENTICATED:return e=(0,s.default)({},e,{authenticated:t.payload});case c.SET_WEBSOCKET_SUPPORT:return e=(0,s.default)({},e,{supportsWebSockets:t.payload});case c.SET_WEBSOCKET_ERROR:return e=(0,s.default)({},e,{websocketErrorEncountered:t.payload});case c.SET_DOCUMENT_TYPE:return e=(0,s.default)({},e,{documentType:t.payload});default:return e}}t.__esModule=!0,t.default=i;var a=n(18),s=o(a),u=n(12),c=r(u),l={authenticated:!1,supportsWebSockets:!1,websocketErrorEncountered:null,documentType:null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(13),i=n(166),a=n(167),s=r(a);t.default=(0,o.combineReducers)({captures:i.captures,globals:s.default})},function(e,t){e.exports=function(e,t){t||(t=[0,""]),e+="";var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},function(e,t,n){var r,o,i;!function(n,a){o=[],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(){"use strict";if("undefined"==typeof window||"undefined"==typeof navigator)return!1;var e,t,n,r,o,i,a,s,u,c,l,f="2.0.201604172",p=void 0!==navigator.mimeTypes["application/pdf"],d=function(){return/iphone|ipad|ipod/i.test(navigator.userAgent.toLowerCase())}();return t=function(e){var t;try{t=new ActiveXObject(e)}catch(e){t=null}return t},n=function(){return!!(window.ActiveXObject||"ActiveXObject"in window)},r=function(){return!(!t("AcroPDF.PDF")&&!t("PDF.PdfCtrl"))},e=p||n()&&r(),o=function(e){var t,n="";if(e){for(t in e)e.hasOwnProperty(t)&&(n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&");n&&(n="#"+n,n=n.slice(0,n.length-1))}return n},i=function(e){"undefined"!=typeof console&&console.log&&console.log("[PDFObject] "+e)},a=function(e){return i(e),!1},u=function(e){var t=document.body;return"string"==typeof e?t=document.querySelector(e):"undefined"!=typeof jQuery&&e instanceof jQuery&&e.length?t=e.get(0):void 0!==e.nodeType&&1===e.nodeType&&(t=e),t},c=function(e,t,n,r,o){var i=r+"?file="+encodeURIComponent(t)+n,a=d?"-webkit-overflow-scrolling: touch; overflow-y: scroll; ":"overflow: hidden; ",s="<div style='"+a+"position: absolute; top: 0; right: 0; bottom: 0; left: 0;'><iframe  "+o+" src='"+i+"' style='border: none; width: 100%; height: 100%;' frameborder='0'></iframe></div>";return e.className+=" pdfobject-container",e.style.position="relative",e.style.overflow="auto",e.innerHTML=s,e.getElementsByTagName("iframe")[0]},l=function(e,t,n,r,o,i,a){var s="";return s=t&&t!==document.body?"width: "+o+"; height: "+i+";":"position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;",e.className+=" pdfobject-container",e.innerHTML="<embed "+a+" class='pdfobject' src='"+n+r+"' type='application/pdf' style='overflow: auto; "+s+"'/>",e.getElementsByTagName("embed")[0]},s=function(t,n,r){if("string"!=typeof t)return a("URL is not valid");n=void 0!==n&&n,r=void 0!==r?r:{};var i=r.id&&"string"==typeof r.id?"id='"+r.id+"'":"",s=!!r.page&&r.page,f=r.pdfOpenParams?r.pdfOpenParams:{},p=void 0===r.fallbackLink||r.fallbackLink,d=r.width?r.width:"100%",h=r.height?r.height:"100%",v="boolean"==typeof r.forcePDFJS&&r.forcePDFJS,m=!!r.PDFJS_URL&&r.PDFJS_URL,y=u(n),g="",b="",_="<p>This browser does not support inline PDFs. Please download the PDF to view it: <a href='[url]'>Download PDF</a></p>";return y?(s&&(f.page=s),b=o(f),v&&m?c(y,t,b,m,i):e?l(y,n,t,b,d,h,i):m?c(y,t,b,m,i):(p&&(g="string"==typeof p?p:_,y.innerHTML=g.replace(/\[url\]/g,t)),a("This browser does not support embedded PDFs"))):a("Target element cannot be determined")},{embed:function(e,t,n){return s(e,t,n)},pdfobjectversion:function(){return f}(),supportsPDFs:function(){return e}()}})},function(e,t,n){var r,o,i;!function(n,a){o=[t,e],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t){"use strict";function n(e){var t=e&&(x&&e[x]||e[E]);if("function"==typeof t)return t}function r(e){function t(t,n,r,o,i,a){if(o=o||O,a=a||r,null==n[r]){var s=w[i];return t?Error("Required "+s+" `"+a+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,i,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e){function t(t,n,r,o,i){var a=t[n],s=m(a);if(s!==e){var u=w[o],c=y(a);return Error("Invalid "+u+" `"+i+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return r(t)}function i(){return r(k.thatReturns(null))}function a(e){function t(t,n,r,o,i){var a=t[n];if(!Array.isArray(a)){var s=w[o],u=m(a);return Error("Invalid "+s+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an array."))}for(var c=0;a.length>c;c++){var l=e(a,c,r,o,i+"["+c+"]");if(l instanceof Error)return l}return null}return r(t)}function s(){function e(e,t,n,r,o){if(!_.isValidElement(e[t])){var i=w[r];return Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return r(e)}function u(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=w[o],s=e.name||O,u=g(t[n]);return Error("Invalid "+a+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("instance of `"+s+"`."))}return null}return r(t)}function c(e){function t(t,n,r,o,i){for(var a=t[n],s=0;e.length>s;s++)if(a===e[s])return null;var u=w[o],c=JSON.stringify(e);return Error("Invalid "+u+" `"+i+"` of value `"+a+"` "+("supplied to `"+r+"`, expected one of "+c+"."))}return r(Array.isArray(e)?t:function(){return Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function l(e){function t(t,n,r,o,i){var a=t[n],s=m(a);if("object"!==s){var u=w[o];return Error("Invalid "+u+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,r,o,i+"."+c);if(l instanceof Error)return l}return null}return r(t)}function f(e){function t(t,n,r,o,i){for(var a=0;e.length>a;a++){var s=e[a];if(null==s(t,n,r,o,i))return null}var u=w[o];return Error("Invalid "+u+" `"+i+"` supplied to "+("`"+r+"`."))}return r(Array.isArray(e)?t:function(){return Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function p(){function e(e,t,n,r,o){if(!h(e[t])){var i=w[r];return Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function d(e){function t(t,n,r,o,i){var a=t[n],s=m(a);if("object"!==s){var u=w[o];return Error("Invalid "+u+" `"+i+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in e){var l=e[c];if(l){var f=l(a,c,r,o,i+"."+c);if(f)return f}}return null}return r(t)}function h(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(h);if(null===e||_.isValidElement(e))return!0;var t=n(e);if(!t)return!1;var r,o=t.call(e);if(t!==e.entries){for(;!(r=o.next()).done;)if(!h(r.value))return!1}else for(;!(r=o.next()).done;){var i=r.value;if(i&&!h(i[1]))return!1}return!0;default:return!1}}function v(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":v(t,e)?"symbol":t}function y(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function g(e){return e.constructor&&e.constructor.name?e.constructor.name:O}var b="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,_={};_.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===b};var w={prop:"prop",context:"context",childContext:"child context"},k={thatReturns:function(e){return function(){return e}}},x="function"==typeof Symbol&&Symbol.iterator,E="@@iterator",O="<<anonymous>>",C={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),symbol:o("symbol"),any:i(),arrayOf:a,element:s(),instanceOf:u,node:p(),objectOf:l,oneOf:c,oneOfType:f,shape:d};t.exports=C})},function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?i(t,e)+"["+r+"]":i(t,e)+"["+i(r,e)+"]="+i(n,e)};case"bracket":return function(t,n){return null===n?i(t,e):i(t,e)+"[]="+i(n,e)};default:return function(t,n){return null===n?i(t,e):i(t,e)+"="+i(n,e)}}}function o(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){return t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),void(r[e][t[1]]=n)):void(r[e]=n)};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){return void 0===n[e]?void(n[e]=t):void(n[e]=[].concat(n[e],t))}}}function i(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"==typeof e?a(Object.keys(e)).sort(function(e,t){return+e-+t}).map(function(t){return e[t]}):e}var s=n(199),u=n(18);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=u({arrayFormat:"none"},t);var n=o(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(o),i,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return e[t]=!n||"object"!=typeof n||Array.isArray(n)?n:a(n),e},Object.create(null))):r},t.stringify=function(e,t){var n={encode:!0,strict:!0,arrayFormat:"none"};t=u(n,t);var o=r(t);return e?Object.keys(e).sort().map(function(n){var r=e[n];if(void 0===r)return"";if(null===r)return i(n,t);if(Array.isArray(r)){var a=[];return r.slice().forEach(function(e){void 0!==e&&a.push(o(n,e,a.length))}),a.join("&")}return i(n,t)+"="+i(r,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t){"use strict";function n(e){this.name="RavenConfigError",this.message=e}n.prototype=Error(),n.prototype.constructor=n,e.exports=n},function(e,t){"use strict";var n=function(e,t,n){var r=e[t],o=e;if(t in e){var i="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),t=""+e.join(" "),a={level:i,logger:"console",extra:{arguments:e}};n&&n(t,a),r&&Function.prototype.apply.call(r,o,e)}}};e.exports={wrapMethod:n}},function(e,t,n){(function(t){"use strict";function r(){return+new Date}function o(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!i(T),this._lastCapturedException=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,maxMessageLength:0,stackTraceLimit:50,autoBreadcrumbs:!0},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=P.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=r(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._location=P.location,this._lastHref=this._location&&this._location.href;for(var e in this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}function i(e){return void 0===e}function a(e){return"function"==typeof e}function s(e){return"[object String]"===j.toString.call(e)}function u(e){return"object"==typeof e&&null!==e}function c(e){for(var t in e)return!1;return!0}function l(e){var t=j.toString.call(e);return u(e)&&"[object Error]"===t||"[object Exception]"===t||e instanceof Error}function f(e,t){var n,r;if(i(e.length))for(n in e)h(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;r>n;n++)t.call(null,n,e[n])}function p(e,t){return t?(f(t,function(t,n){e[t]=n}),e):e}function d(e,t){return t&&e.length>t?e.substr(0,t)+"…":e}function h(e,t){return j.hasOwnProperty.call(e,t)}function v(e){for(var t,n=[],r=0,o=e.length;o>r;r++)t=e[r],s(t)?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return RegExp(n.join("|"),"i")}function m(e){var t=[];return f(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")}function y(e){var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}}function g(){var e=P.crypto||P.msCrypto;if(!i(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);4>t.length;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function b(e){for(var t,n=5,r=80,o=[],i=0,a=0,s=" > ",u=s.length;e&&i++<n&&(t=_(e),"html"!==t&&(1>=i||r>a+o.length*u+t.length));)o.push(t),a+=t.length,e=e.parentNode;return o.reverse().join(s)}function _(e){var t,n,r,o,i,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),t=e.className,t&&s(t))for(n=t.split(" "),i=0;n.length>i;i++)a.push("."+n[i]);var u=["type","name","title","alt"];for(i=0;u.length>i;i++)r=u[i],o=e.getAttribute(r),o&&a.push("["+r+'="'+o+'"]');return a.join("")}function w(e,t,n,r){var o=e[t];e[t]=n(o),r&&r.push([e,t,o])}var k=n(177),x=n(173),E=n(151),O=n(174).wrapMethod,C="source protocol user pass host port path".split(" "),S=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,P="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},T=P.document;o.prototype={VERSION:"3.9.1",debug:!1,TraceKit:k,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var r=n._globalOptions;t&&f(t,function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:r[e]=t}),n.setDSN(e),r.ignoreErrors.push(/^Script error\.?$/),r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),r.ignoreErrors=v(r.ignoreErrors),r.ignoreUrls=!!r.ignoreUrls.length&&v(r.ignoreUrls),r.whitelistUrls=!!r.whitelistUrls.length&&v(r.whitelistUrls),r.includePaths=v(r.includePaths),r.maxBreadcrumbs=Math.max(0,Math.min(r.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0},i=r.autoBreadcrumbs;return"[object Object]"==={}.toString.call(i)?i=p(o,i):i!==!1&&(i=o),r.autoBreadcrumbs=i,k.collectWindowErrors=!!r.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(k.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,n=t._parseDSN(e),r=n.path.lastIndexOf("/"),o=n.path.substr(1,r);t._dsn=e,t._globalKey=n.user,t._globalSecret=n.pass&&n.pass.substr(1),
t._globalProject=n.path.substr(r+1),t._globalServer=t._getGlobalServer(n),t._globalEndpoint=t._globalServer+"/"+o+"api/"+t._globalProject+"/store/"},context:function(e,t,n){return a(e)&&(n=t||[],t=e,e=void 0),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){function r(){var r=[],i=arguments.length,s=!e||e&&e.deep!==!1;for(n&&a(n)&&n.apply(this,arguments);i--;)r[i]=s?o.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,r)}catch(t){throw o._ignoreNextOnError(),o.captureException(t,e),t}}var o=this;if(i(t)&&!a(e))return e;if(a(e)&&(t=e,e=void 0),!a(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}for(var s in t)h(t,s)&&(r[s]=t[s]);return r.prototype=t.prototype,t.__raven_wrapper__=r,r.__raven__=!0,r.__inner__=t,r},uninstall:function(){return k.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(e,t){if(!l(e))return this.captureMessage(e,p({trimHeadFrames:1,stacktrace:!0},t));this._lastCapturedException=e;try{var n=k.computeStackTrace(e);this._handleStackInfo(n,t)}catch(t){if(e!==t)throw t}return this},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){t=t||{};var n=p({message:e+""},t);if(this._globalOptions.stacktrace||t&&t.stacktrace){var r;try{throw Error(e)}catch(e){r=e}r.name=null,t=p({fingerprint:e,trimHeadFrames:(t.trimHeadFrames||0)+1},t);var o=k.computeStackTrace(r),i=this._prepareFrames(o,t);n.stacktrace={frames:i.reverse()}}return this._send(n),this}},captureBreadcrumb:function(e){var t=p({timestamp:r()/1e3},e);if(a(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(u(n)&&!c(n))t=n;else if(n===!1)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(E(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=a(e)?function(n){return e(n,t)}:e,this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=a(e)?function(n){return e(n,t)}:e,this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=a(e)?function(n){return e(n,t)}:e,this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!(!this._hasJSON||!this._globalServer&&(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),1))},afterLoad:function(){var e=P.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(T){e=e||{};var t=e.eventId||this.lastEventId();if(!t)throw new x("Missing eventId");var n=e.dsn||this._dsn;if(!n)throw new x("Missing DSN");var r=encodeURIComponent,o="";o+="?eventId="+r(t),o+="&dsn="+r(n);var i=e.user||this._globalContext.user;i&&(i.name&&(o+="&name="+r(i.name)),i.email&&(o+="&email="+r(i.email)));var a=this._getGlobalServer(this._parseDSN(n)),s=T.createElement("script");s.async=!0,s.src=a+"/api/embed/error-page/"+o,(T.head||T.body).appendChild(s)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),T.createEvent?(n=T.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=T.createEventObject(),n.eventType=e);for(r in t)h(t,r)&&(n[r]=t[r]);if(T.createEvent)T.dispatchEvent(n);else try{T.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){t._lastCapturedEvent=n;var r,o=n.target;try{r=b(o)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this,t=1e3;return function(n){var r=n.target,o=r&&r.tagName;if(o&&("INPUT"===o||"TEXTAREA"===o||r.isContentEditable)){var i=e._keypressTimeout;i||e._breadcrumbEventHandler("input")(n),clearTimeout(i),e._keypressTimeout=setTimeout(function(){e._keypressTimeout=null},t)}}},_captureUrlChange:function(e,t){var n=y(this._location.href),r=y(t),o=y(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===o.protocol&&n.host===o.host&&(e=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_instrumentTryCatch:function(){function e(e){return function(t,r){for(var o=Array(arguments.length),i=0;o.length>i;++i)o[i]=arguments[i];var s=o[0];return a(s)&&(o[0]=n.wrap(s)),e.apply?e.apply(this,o):e(o[0],o[1])}}function t(e){var t=P[e]&&P[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(w(t,"addEventListener",function(t){return function(r,i,a,s){try{i&&i.handleEvent&&(i.handleEvent=n.wrap(i.handleEvent))}catch(e){}var u,c,l;return o&&o.dom&&("EventTarget"===e||"Node"===e)&&(c=n._breadcrumbEventHandler("click"),l=n._keypressEventHandler(),u=function(e){if(e)return"click"===e.type?c(e):"keypress"===e.type?l(e):void 0}),t.call(this,r,n.wrap(i,void 0,u),a,s)}},r),w(t,"removeEventListener",function(e){return function(t,n,r,o){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,r,o)}},r))}var n=this,r=n._wrappedBuiltIns,o=this._globalOptions.autoBreadcrumbs;w(P,"setTimeout",e,r),w(P,"setInterval",e,r),P.requestAnimationFrame&&w(P,"requestAnimationFrame",function(e){return function(t){return e(n.wrap(t))}},r);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],s=0;i.length>s;s++)t(i[s]);var u=P.jQuery||P.$;u&&u.fn&&u.fn.ready&&w(u.fn,"ready",function(e){return function(t){return e.call(this,n.wrap(t))}},r)},_instrumentBreadcrumbs:function(){function e(e,n){e in n&&a(n[e])&&w(n,e,function(e){return t.wrap(e)})}var t=this,n=this._globalOptions.autoBreadcrumbs,r=t._wrappedBuiltIns;if(n.xhr&&"XMLHttpRequest"in P){var o=XMLHttpRequest.prototype;w(o,"open",function(e){return function(n,r){return s(r)&&r.indexOf(t._globalKey)===-1&&(this.__raven_xhr={method:n,url:r,status_code:null}),e.apply(this,arguments)}},r),w(o,"send",function(n){return function(r){function o(){if(i.__raven_xhr&&(1===i.readyState||4===i.readyState)){try{i.__raven_xhr.status_code=i.status}catch(e){}t.captureBreadcrumb({type:"http",category:"xhr",data:i.__raven_xhr})}}for(var i=this,s=["onload","onerror","onprogress"],u=0;s.length>u;u++)e(s[u],i);return"onreadystatechange"in i&&a(i.onreadystatechange)?w(i,"onreadystatechange",function(e){return t.wrap(e,void 0,o)}):i.onreadystatechange=o,n.apply(this,arguments)}},r)}n.xhr&&"fetch"in P&&w(P,"fetch",function(e){return function(n,r){for(var o=Array(arguments.length),i=0;o.length>i;++i)o[i]=arguments[i];var a="GET";o[1]&&o[1].method&&(a=o[1].method);var s={method:a,url:o[0],status_code:null};return t.captureBreadcrumb({type:"http",category:"fetch",data:s}),e.apply(this,o).then(function(e){return s.status_code=e.status,e})}},r),n.dom&&this._hasDocument&&(T.addEventListener?(T.addEventListener("click",t._breadcrumbEventHandler("click"),!1),T.addEventListener("keypress",t._keypressEventHandler(),!1)):(T.attachEvent("onclick",t._breadcrumbEventHandler("click")),T.attachEvent("onkeypress",t._keypressEventHandler())));var i=P.chrome,u=i&&i.app&&i.app.runtime,c=!u&&P.history&&history.pushState;if(n.location&&c){var l=P.onpopstate;P.onpopstate=function(){var e=t._location.href;if(t._captureUrlChange(t._lastHref,e),l)return l.apply(this,arguments)},w(history,"pushState",function(e){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&t._captureUrlChange(t._lastHref,n+""),e.apply(this,arguments)}},r)}if(n.console&&"console"in P&&console.log){var p=function(e,n){t.captureBreadcrumb({message:e,level:n.level,category:"console"})};f(["debug","info","warn","error","log"],function(e,t){O(console,t,p)})}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){e=this._wrappedBuiltIns.shift();var t=e[0],n=e[1],r=e[2];t[n]=r}},_drainPlugins:function(){var e=this;f(this._plugins,function(t,n){var r=n[0],o=n[1];r.apply(e,[e].concat(o))})},_parseDSN:function(e){var t=S.exec(e),n={},r=7;try{for(;r--;)n[C[r]]=t[r]||""}catch(t){throw new x("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new x("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(f(e.stack,function(e,t){var o=n._normalizeFrame(t);o&&r.push(o)}),t&&t.trimHeadFrames))for(var o=0;t.trimHeadFrames>o&&r.length>o;o++)r[o].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e){if(e.url){var t={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return t.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(t.filename)||/(Raven|TraceKit)\./.test(t.function)||/raven\.(min\.)?js$/.test(t.filename)),t}},_processException:function(e,t,n,r,o,i){var a;if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t))&&(t+="",o&&o.length?(n=o[0].filename||n,o.reverse(),a={frames:o}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var s=p({exception:{values:[{type:e,value:t,stacktrace:a}]},culprit:n},i);this._send(s)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=d(e.message,t)),e.exception){var n=e.exception.values[0];n.value=d(n.value,t)}return e},_getHttpData:function(){if(this._hasDocument&&T.location&&T.location.href){var e={headers:{"User-Agent":navigator.userAgent}};return e.url=T.location.href,T.referrer&&(e.headers.Referer=T.referrer),e}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},o=this._getHttpData();o&&(n.request=o),e.trimHeadFrames&&delete e.trimHeadFrames,e=p(n,e),e.tags=p(p({},this._globalContext.tags),e.tags),e.extra=p(p({},this._globalContext.extra),e.extra),e.extra["session:duration"]=r()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),c(e.tags)&&delete e.tags,this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),a(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!c(e)&&(a(t.shouldSendCallback)&&!t.shouldSendCallback(e)||this._sendProcessedPayload(e))},_getUuid:function(){return g()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this._lastEventId=e.event_id||(e.event_id=this._getUuid()),e=this._trimPacket(e),this._logDebug("debug","Raven about to send:",e),this.isSetup()){var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var i=e.exception&&e.exception.values[0];this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:e.message,event_id:e.event_id,level:e.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:o,data:e,options:r,onSuccess:function(){n._triggerEvent("success",{data:e,src:a}),t&&t()},onError:function(r){n._triggerEvent("failure",{data:e,src:a}),r=r||Error("Raven send failed (no additional details provided)"),t&&t(r)}})}},_makeRequest:function(e){function t(){200===n.status?e.onSuccess&&e.onSuccess():e.onError&&e.onError(Error("Sentry error code: "+n.status))}var n=new XMLHttpRequest,r="withCredentials"in n||"undefined"!=typeof XDomainRequest;if(r){var o=e.url;"withCredentials"in n?n.onreadystatechange=function(){4===n.readyState&&t()}:(n=new XDomainRequest,o=o.replace(/^https?:/,""),n.onload=t),n.open("POST",o+"?"+m(e.auth)),n.send(E(e.data))}},_logDebug:function(e){this._originalConsoleMethods[e]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){i(t)?delete this._globalContext[e]:this._globalContext[e]=p(this._globalContext[e]||{},t)}};var j=Object.prototype;"undefined"!=typeof __DEV__&&__DEV__&&(o.utils={isUndefined:i,isFunction:a,isString:s,isObject:u,isEmptyObject:c,isError:l,each:f,objectMerge:p,truncate:d,hasKey:h,joinRegExp:v,urlencode:m,uuid4:g,htmlTreeAsString:b,htmlElementAsString:_,parseUrl:y,fill:w}),o.prototype.setUser=o.prototype.setUserContext,o.prototype.setReleaseContext=o.prototype.setRelease,e.exports=o}).call(t,function(){return this}())},function(e,t,n){(function(t){"use strict";var r=n(175),o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},i=o.Raven,a=new r;a.noConflict=function(){return o.Raven=i,a},a.afterLoad(),e.exports=a}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function n(){return"undefined"==typeof document?"":document.location.href}var r={collectWindowErrors:!0,debug:!1},o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},i=[].slice,a="?",s=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;r.report=function(){function e(e){f(),y.push(e)}function t(e){for(var t=y.length-1;t>=0;--t)y[t]===e&&y.splice(t,1)}function u(){p(),y=[]}function c(e,t){var n=null;if(!t||r.collectWindowErrors){for(var o in y)if(y.hasOwnProperty(o))try{y[o].apply(null,[e].concat(i.call(arguments,2)))}catch(e){n=e}if(n)throw n}}function l(e,t,o,i,u){var l=null;if(_)r.computeStackTrace.augmentStackTraceWithInitialElement(_,t,o,e),d();else if(u)l=r.computeStackTrace(u),c(l,!0);else{var f,p={url:t,line:o,column:i},h=void 0,m=e;if("[object String]"==={}.toString.call(e)){var f=e.match(s);f&&(h=f[1],m=f[2])}p.func=a,l={name:h,message:m,url:n(),stack:[p]},c(l,!0)}return!!v&&v.apply(this,arguments)}function f(){m||(v=o.onerror,o.onerror=l,m=!0)}function p(){m&&(o.onerror=v,m=!1,v=void 0)}function d(){var e=_,t=g;g=null,_=null,b=null,c.apply(null,[e,!1].concat(t))}function h(e,t){var n=i.call(arguments,1);if(_){if(b===e)return;d()}var o=r.computeStackTrace(e);if(_=o,b=e,g=n,setTimeout(function(){b===e&&d()},o.incomplete?2e3:0),t!==!1)throw e}var v,m,y=[],g=null,b=null,_=null;return h.subscribe=e,h.unsubscribe=t,h.uninstall=u,h}(),r.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,r,o=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=e.stack.split("\n"),c=[],l=(/^(.*) is undefined$/.exec(e.message),0),f=u.length;f>l;++l){if(t=o.exec(u[l])){var p=t[2]&&t[2].indexOf("native")!==-1;r={url:p?null:t[2],func:t[1]||a,args:p?[t[2]]:[],line:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}else if(t=s.exec(u[l]))r={url:t[2],func:t[1]||a,args:[],line:+t[3],column:t[4]?+t[4]:null};else{if(!(t=i.exec(u[l])))continue;r={url:t[3],func:t[1]||a,args:t[2]?t[2].split(","):[],line:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}!r.func&&r.line&&(r.func=a),c.push(r)}return c.length?(c[0].column||void 0===e.columnNumber||(c[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:n(),stack:c}):null}}function t(e,t,n,r){var o={url:t,line:n};if(o.url&&o.line){if(e.incomplete=!1,o.func||(o.func=a),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function o(e,s){for(var u,c,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,f=[],p={},d=!1,h=o.caller;h&&!d;h=h.caller)if(h!==i&&h!==r.report){if(c={url:null,func:a,line:null,column:null},h.name?c.func=h.name:(u=l.exec(""+h))&&(c.func=u[1]),void 0===c.func)try{c.func=u.input.substring(0,u.input.indexOf("{"))}catch(e){}p[""+h]?d=!0:p[""+h]=!0,f.push(c)}s&&f.splice(0,s);var v={name:e.name,message:e.message,url:n(),stack:f};return t(v,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),v}function i(t,i){var a=null;i=null==i?0:+i;try{if(a=e(t))return a}catch(e){if(r.debug)throw e}try{if(a=o(t,i+1))return a}catch(e){if(r.debug)throw e}return{name:t.name,message:t.message,url:n()}}return i.augmentStackTraceWithInitialElement=t,i.computeStackTraceFromStackProp=e,i}(),e.exports=r}).call(t,function(){return this}())},function(e,t){e.exports="(function(window, document) {\n    'use strict';\n\n    var Woopra = {},\n        _on,\n        _handler = [],\n        _download_tracking = false,\n        _download_pause,\n        _outgoing_tracking = false,\n        _outgoing_pause,\n        _auto_decorate,\n        _outgoing_ignore_subdomain = true;\n\n    /**\n     * Constants\n     */\n    var VERSION = 11;\n    var ENDPOINT = 'woopra.com/track/';\n    var XDM_PARAM_NAME = '__woopraid';\n\n    /**\n     * addEventListener polyfill 1.0 / Eirik Backer / MIT Licence\n     * https://gist.github.com/eirikbacker/2864711\n     * removeEventListener from https://gist.github.com/jonathantneal/3748027\n     */\n    /*eslint-disable*/\n    (function(win, doc){\n        if (win.addEventListener) return;\t\t//No need to polyfill\n\n        var listeners = [];\n\n        function docHijack(p){var old = doc[p];doc[p] = function(v){return addListen(old(v))}}\n        function addEvent(on, fn, self) {\n            self = this;\n\n            listeners.unshift([self, on, fn, function(e) {\n                var e = e || win.event;\n                e.preventDefault  = e.preventDefault  || function(){e.returnValue = false}\n                e.stopPropagation = e.stopPropagation || function(){e.cancelBubble = true}\n                e.currentTarget = self;\n                e.target = e.srcElement || self;\n                fn.call(self, e);\n            }]);\n\n            return this.attachEvent('on' + on, listeners[0][3])\n        }\n\n        function removeEvent(on, fn) {\n            for (var index = 0, register; register = listeners[index]; ++index) {\n                if (register[0] == this && register[1] == on && register[2] == fn) {\n                    return this.detachEvent(\"on\" + on, listeners.splice(index, 1)[0][3]);\n                }\n            }\n        }\n\n        function addListen(obj, i){\n            if (obj && (i = obj.length)) {\n                while(i--) {\n                    obj[i].addEventListener = addEvent;\n                    obj[i].removeEventListener = removeEvent;\n                }\n            }\n            else if (obj) {\n                obj.addEventListener = addEvent;\n                obj.removeEventListener = removeEvent;\n            }\n\n            return obj;\n        }\n\n        addListen([doc, win]);\n        if ('Element' in win) {\n            // IE 8\n            win.Element.prototype.addEventListener = addEvent;\n            win.Element.prototype.removeEventListener = removeEvent;\n        }\n        else {\n            // IE < 8\n            //Make sure we also init at domReady\n            doc.attachEvent('onreadystatechange', function(){addListen(doc.all)});\n            docHijack('getElementsByTagName');\n            docHijack('getElementById');\n            docHijack('createElement');\n            addListen(doc.all);\n        }\n    })(window, document);\n\n    /**\n     * Array.prototype.indexOf polyfill via\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf\n     */\n    if (!Array.prototype.indexOf) {\n        Array.prototype.indexOf = function (searchElement, fromIndex) {\n            if ( this === undefined || this === null ) {\n                throw new TypeError( '\"this\" is null or not defined' );\n            }\n\n            var length = this.length >>> 0; // Hack to convert object.length to a UInt32\n\n            fromIndex = +fromIndex || 0;\n\n            if (Math.abs(fromIndex) === Infinity) {\n                fromIndex = 0;\n            }\n\n            if (fromIndex < 0) {\n                fromIndex += length;\n                if (fromIndex < 0) {\n                    fromIndex = 0;\n                }\n            }\n\n            for (;fromIndex < length; fromIndex++) {\n                if (this[fromIndex] === searchElement) {\n                    return fromIndex;\n                }\n            }\n\n            return -1;\n        };\n    }\n\n    /**\n     * Helper functions\n     */\n    Woopra.extend = function(o1, o2) {\n        for (var key in o2) {\n            o1[key] = o2[key];\n        }\n    };\n\n    // https://code.google.com/p/form-serialize/\n    // modified to return an object\n    Woopra.serializeForm = function(form, options) {\n        if (!form || form.nodeName !== \"FORM\") {\n            return;\n        }\n        var _options = options || {};\n        var _exclude = _options.exclude || [];\n        var i, j, data = {};\n        for (i = form.elements.length - 1; i >= 0; i = i - 1) {\n            if (form.elements[i].name === \"\" || _exclude.indexOf(form.elements[i].name) > -1) {\n                continue;\n            }\n            switch (form.elements[i].nodeName) {\n                case 'INPUT':\n                    switch (form.elements[i].type) {\n                    case 'text':\n                        case 'hidden':\n                        case 'button':\n                        case 'reset':\n                        case 'submit':\n                        data[form.elements[i].name] = form.elements[i].value;\n                    break;\n                    case 'checkbox':\n                        case 'radio':\n                        if (form.elements[i].checked) {\n                            data[form.elements[i].name] = form.elements[i].value;\n                        }\n                    break;\n                    case 'file':\n                        break;\n                }\n                break;\n                case 'TEXTAREA':\n                    data[form.elements[i].name] = form.elements[i].value;\n                break;\n                case 'SELECT':\n                    switch (form.elements[i].type) {\n                    case 'select-one':\n                        data[form.elements[i].name] = form.elements[i].value;\n                    break;\n                    case 'select-multiple':\n                        for (j = form.elements[i].options.length - 1; j >= 0; j = j - 1) {\n                        if (form.elements[i].options[j].selected) {\n                            data[form.elements[i].name] = form.elements[i].options[j].value;\n                        }\n                    }\n                    break;\n                }\n                break;\n                case 'BUTTON':\n                    switch (form.elements[i].type) {\n                    case 'reset':\n                        case 'submit':\n                        case 'button':\n                        data[form.elements[i].name] = form.elements[i].value;\n                    break;\n                }\n                break;\n            }\n        }\n        return data;\n    };\n\n    /*\\\n    |*|\n    |*|  :: cookies.js ::\n    |*|\n    |*|  A complete cookies reader/writer framework with full unicode support.\n    |*|\n    |*|  Revision #1 - September 4, 2014\n    |*|\n    |*|  https://developer.mozilla.org/en-US/docs/Web/API/document.cookie\n    |*|  https://developer.mozilla.org/User:fusionchess\n    |*|\n    |*|  This framework is released under the GNU Public License, version 3 or later.\n    |*|  http://www.gnu.org/licenses/gpl-3.0-standalone.html\n    |*|\n    |*|  Syntaxes:\n    |*|\n    |*|  * docCookies.setItem(name, value[, end[, path[, domain[, secure]]]])\n    |*|  * docCookies.getItem(name)\n    |*|  * docCookies.removeItem(name[, path[, domain]])\n    |*|  * docCookies.hasItem(name)\n    |*|  * docCookies.keys()\n    |*|\n    \\*/\n    var docCookies = {\n        getItem: function (sKey) {\n            if (!sKey) { return null; }\n            return decodeURIComponent(document.cookie.replace(new RegExp(\"(?:(?:^|.*;)\\\\s*\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"), \"$1\")) || null;\n        },\n        setItem: function (sKey, sValue, vEnd, sPath, sDomain, bSecure) {\n            if (!sKey || /^(?:expires|max\\-age|path|domain|secure)$/i.test(sKey)) { return false; }\n            var sExpires = \"\";\n            if (vEnd) {\n                switch (vEnd.constructor) {\n                    case Number:\n                        sExpires = vEnd === Infinity ? \"; expires=Fri, 31 Dec 9999 23:59:59 GMT\" : \"; max-age=\" + vEnd;\n                    break;\n                    case String:\n                        sExpires = \"; expires=\" + vEnd;\n                    break;\n                    case Date:\n                        sExpires = \"; expires=\" + vEnd.toUTCString();\n                    break;\n                }\n            }\n            document.cookie = encodeURIComponent(sKey) + \"=\" + encodeURIComponent(sValue) + sExpires + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\") + (bSecure ? \"; secure\" : \"\");\n            return true;\n        },\n        removeItem: function (sKey, sPath, sDomain) {\n            if (!this.hasItem(sKey)) { return false; }\n            document.cookie = encodeURIComponent(sKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT\" + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\");\n            return true;\n        },\n        hasItem: function (sKey) {\n            if (!sKey) { return false; }\n            return (new RegExp(\"(?:^|;\\\\s*)\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\")).test(document.cookie);\n        },\n        keys: function () {\n            var aKeys = document.cookie.replace(/((?:^|\\s*;)[^\\=]+)(?=;|$)|^\\s*|\\s*(?:\\=[^;]*)?(?:\\1|$)/g, \"\").split(/\\s*(?:\\=[^;]*)?;\\s*/);\n            for (var nLen = aKeys.length, nIdx = 0; nIdx < nLen; nIdx++) { aKeys[nIdx] = decodeURIComponent(aKeys[nIdx]); }\n            return aKeys;\n        }\n    };\n\n    Woopra.docCookies = docCookies;\n    /*eslint-enable*/\n\n    /**\n     * Wrapper for window.location\n     */\n    Woopra.location = function(property, value) {\n        // make sure property is valid\n        if (typeof window.location[property] !== 'undefined') {\n            if (typeof value !== 'undefined') {\n                window.location[property] = value;\n            }\n            else {\n                return window.location[property];\n            }\n        }\n    };\n\n    /**\n     * Parses current URL for parameters that start with either `utm_` or `woo_`\n     * and have the keys `source`, `medium`, `content`, `campaign`, `term`\n     *\n     * @return {Object} Returns an object with campaign keys as keys\n     */\n    Woopra.getCampaignData = function() {\n        var vars = Woopra.getUrlParams(),\n            campaign = {},\n            campaignKeys = ['source', 'medium', 'content', 'campaign', 'term'],\n            key,\n            value;\n\n        for (var i = 0; i < campaignKeys.length; i++) {\n            key = campaignKeys[i];\n            value = vars['utm_' + key] || vars['woo_' + key];\n\n            if (typeof value !== 'undefined') {\n                campaign['campaign_' + (key === 'campaign' ? 'name' : key)] = value;\n            }\n        }\n\n        return campaign;\n    };\n\n    Woopra.mapQueryParams = function(mapping) {\n      var vars = Woopra.getUrlParams(),\n        params = {};\n\n      for (var key in mapping) {\n        var value = vars[key];\n        if (typeof value !== 'undefined') {\n          params[mapping[key]] = value;\n        }\n      }\n\n      return params;\n    }\n\n\n    /**\n     * Parses the URL parameters for data beginning with a certain prefix\n     *\n     * @param {Function} method The callback method for each key found matching `prefix`\n     * @param {string} prefix The prefix that the parameter should start with\n     */\n    Woopra.getCustomData = function(method, prefix) {\n        var vars = Woopra.getUrlParams(),\n            i,\n            _prefix = prefix || 'wv_',\n            key,\n            value;\n\n        for (i in vars) {\n            if (vars.hasOwnProperty(i)) {\n                value = vars[i];\n\n                if (i.substring(0, _prefix.length) === _prefix) {\n                    key = i.substring(_prefix.length);\n                    method.call(this, key, value);\n                }\n            }\n        }\n    };\n\n    /**\n     * Parses Visitor Data in the URL.\n     *\n     * Query params that start with 'wv_'\n     */\n    Woopra.getVisitorUrlData = function(context) {\n        Woopra.getCustomData.call(context, context.identify, 'wv_');\n    };\n\n\n    /**\n     * Hides any campaign data (query params: wv_, woo_, utm_) from the URL\n     * by using pushState (if available)\n     */\n    Woopra.hideCampaignData = function() {\n        return Woopra.hideUrlParams(['wv_', 'woo_', 'utm_']);\n    };\n    Woopra.hideCrossDomainId = function() {\n        return Woopra.hideUrlParams([XDM_PARAM_NAME]);\n    };\n\n    /**\n     * Hides any URL parameters by calling window.history.replaceState\n     *\n     * @param {Array} params A list of parameter prefixes that will be hidden\n     * @return {String} Returns the new URL that will be used\n     */\n    Woopra.hideUrlParams = function(params) {\n        var regex = new RegExp('[?&]+((?:' + params.join('|') + ')[^=&]*)=([^&#]*)', 'gi');\n        var href = Woopra.location('href').replace(regex, '');\n\n        if (window.history && window.history.replaceState) {\n            window.history.replaceState(null, null, href);\n        }\n\n        return href;\n    };\n\n    /**\n     * Retrieves the current URL parameters as an object\n     *\n     * @return {Object} An object for all of the URL parameters\n     */\n    Woopra.getUrlParams = function() {\n        var vars = {};\n        var href = Woopra.location('href');\n\n        if (href) {\n            href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {\n                vars[key] = decodeURIComponent(value.split('+').join(' '));\n            });\n        }\n        return vars;\n    };\n\n    Woopra.buildUrlParams = function(params, prefix) {\n        var _prefix = prefix || '',\n            key,\n            p = [];\n\n        if (typeof params === 'undefined') {\n            return params;\n        }\n\n        for (key in params) {\n            if (params.hasOwnProperty(key)) {\n                if (params[key] !== 'undefined' &&\n                    params[key] !== 'null' &&\n                    typeof params[key] !== 'undefined') {\n                    p.push(_prefix + encodeURIComponent(key) + '=' + encodeURIComponent(params[key]));\n                }\n            }\n        }\n        return p.join('&');\n    };\n\n    /**\n     * Generates a random 12 character string\n     *\n     * @return {String} Returns a random 12 character string\n     */\n    Woopra.randomString = function() {\n        var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\n            i,\n            rnum,\n            s = '';\n\n        for (i = 0; i < 12; i++) {\n            rnum = Math.floor(Math.random() * chars.length);\n            s += chars.substring(rnum, rnum + 1);\n        }\n\n        return s;\n    };\n\n    Woopra.loadScript = function(url, callback) {\n        var ssc,\n            _callback,\n            script = document.createElement('script');\n\n        script.type = 'text/javascript';\n        script.async = true;\n\n        if (callback && typeof callback === 'function') {\n            _callback = callback;\n        }\n\n        if (typeof script.onreadystatechange !== 'undefined') {\n            script.onreadystatechange = function() {\n                if (this.readyState === 4 ||\n                    this.readyState === 'complete' ||\n                    this.readyState === 'loaded') {\n                    if (_callback) {\n                        _callback();\n                    }\n                    Woopra.removeScript(script);\n                }\n            };\n        }\n        else {\n            script.onload = function() {\n                if (_callback) {\n                    _callback();\n                }\n                Woopra.removeScript(script);\n            };\n            script.onerror = function() {\n                Woopra.removeScript(script);\n            };\n        }\n\n        script.src = url;\n\n        ssc = document.getElementsByTagName('script')[0];\n        ssc.parentNode.insertBefore(script, ssc);\n    };\n\n    Woopra.removeScript = function(script) {\n        if (script && script.parentNode) {\n            script.parentNode.removeChild(script);\n        }\n    };\n\n    /**\n     * Helper to either query an element by id, or return element if passed\n     * through options\n     *\n     * Supports searching by ids and classnames (or querySelector if browser supported)\n     */\n    Woopra.getElement = function(selector, options) {\n        var _options = typeof selector === 'string' ? options || {} : selector || {};\n        var _selector = selector;\n\n        if (_options.el) {\n            return _options.el;\n        }\n        else if (typeof selector === 'string') {\n            if (document.querySelectorAll) {\n                return document.querySelectorAll(_selector);\n            }\n            else if (selector[0] === '#') {\n                _selector = selector.substr(1);\n                return document.getElementById(_selector);\n            }\n            else if (selector[0] === '.') {\n                _selector = selector.substr(1);\n                return document.getElementsByClassName(_selector);\n            }\n        }\n    };\n\n    /**\n     * Retrieves the current client domain name using the hostname\n     * and returning the last two tokens with a `.` separator (domain + tld).\n     *\n     * This can be an issue if there is a second level domain\n     */\n    Woopra.getDomain = function(hostname) {\n        var _hostname = hostname || Woopra.location('hostname');\n        var secondLevelTlds = {\n            'com.au': 1,\n            'net.au': 1,\n            'org.au': 1,\n            'co.hu': 1,\n            'com.ru': 1,\n            'ac.za': 1,\n            'net.za': 1,\n            'com.za': 1,\n            'co.za': 1,\n            'co.uk': 1,\n            'org.uk': 1,\n            'me.uk': 1,\n            'net.uk': 1\n        };\n        var domain = _hostname.substring(_hostname.lastIndexOf('.', _hostname.lastIndexOf('.') - 1) + 1);\n\n        // check if domain is in list of second level domains, ignore if so\n        if (secondLevelTlds[domain]) {\n            domain = _hostname.substring(_hostname.lastIndexOf('.', _hostname.indexOf(domain) - 2) + 1);\n        }\n\n        return domain;\n    };\n\n    /**\n     * Returns the current hostname with 'www' stripped out\n     */\n    Woopra.getHostnameNoWww = function() {\n        var hostname = Woopra.location('hostname');\n\n        if (hostname.indexOf('www.') === 0) {\n            return hostname.replace('www.', '');\n        }\n\n        return hostname;\n    };\n\n    /**\n     * Checks if string ends with suffix\n     *\n     * @param {string} str The haystack string\n     * @param {string} suffix The needle\n     * @return {boolean} True if needle was found in haystack\n     */\n    Woopra.endsWith = function(str, suffix) {\n        return str.indexOf(suffix, str.length - suffix.length) !== -1;\n    };\n\n    /**\n     * Checks if string starts with prefix\n     *\n     * @param {string} str The haystack string\n     * @param {string} prefix The needle\n     * @return {boolean} True if needle was found in haystack\n     */\n    Woopra.startsWith = function(str, prefix) {\n        return str.indexOf(prefix) === 0;\n    };\n\n    _on = Woopra._on = function(parent, event, callback) {\n        var id = parent.instanceName;\n\n        if (!_handler[event]) {\n            _handler[event] = {};\n        }\n        _handler[event][id] = parent;\n\n        if (parent.__l) {\n            if (!parent.__l[event]) {\n                parent.__l[event] = [];\n            }\n            parent.__l[event].push(callback);\n        }\n    };\n\n    Woopra._fire = function(event) {\n        var handler;\n        var _event = _handler[event];\n        var _l;\n\n        if (_event) {\n            for (var id in _event) {\n                if (_event.hasOwnProperty(id)) {\n                    handler = _event[id];\n                    _l = handler && handler.__l;\n                    if (_l && _l[event]) {\n                        for (var i = 0; i < _l[event].length; i++) {\n                            _l[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n                        }\n                    }\n\n                }\n            }\n        }\n    };\n\n    Woopra.attachEvent = function(element, type, callback) {\n        if (element.addEventListener) {\n           element.addEventListener(type, callback);\n        }\n        else if (element.attachEvent) {\n            /*eslint-disable*/\n            element.attachEvent('on' + type, function(e) {\n                var e = e || win.event;\n                e.preventDefault = e.preventDefault || function() {e.returnValue = false};\n                e.stopPropagation = e.stopPropagation || function() {e.cancelBubble = true};\n                callback.call(self, e);\n            });\n            /*eslint-enable*/\n        }\n    };\n\n    Woopra.leftClick = function(evt) {\n        evt = evt || window.event;\n        var button = (typeof evt.which !== 'undefined' && evt.which === 1) ||\n                    (typeof evt.button !== 'undefined' && evt.button === 0);\n        return button && !evt.metaKey && !evt.altKey && !evt.ctrlKey && !evt.shiftKey;\n    };\n\n    Woopra.redirect = function(link) {\n        Woopra.location('href', link);\n    };\n\n    /**\n     * Determines if the current URL should be considered an outgoing URL\n     */\n    Woopra.isOutgoingLink = function(targetHostname) {\n        var currentHostname = Woopra.location('hostname');\n        var currentDomain = Woopra.getDomain(currentHostname);\n\n        return targetHostname !== currentHostname &&\n            targetHostname.replace(/^www\\./, '') !== currentHostname.replace(/^www\\./, '') &&\n            (\n                !_outgoing_ignore_subdomain ||\n                currentDomain !== Woopra.getDomain(targetHostname)\n            ) &&\n            !Woopra.startsWith(targetHostname, 'javascript') &&\n            targetHostname !== '' &&\n            targetHostname !== '#';\n    };\n\n    // attaches any events\n    // needs to be handled here, instead of in a tracking instance because\n    // these events should only be fired once on a page\n    (function(on, fire) {\n        on(document, 'mousedown', function(e) {\n            var cElem;\n\n            fire('mousemove', e, new Date());\n\n            if (_auto_decorate) {\n                cElem = e.srcElement || e.target;\n                while (typeof cElem !== 'undefined' && cElem !== null) {\n                    if (cElem.tagName && cElem.tagName.toLowerCase() === 'a') {\n                        break;\n                    }\n                    cElem = cElem.parentNode;\n                }\n                if (typeof cElem !== 'undefined' && cElem !== null) {\n                    fire('auto_decorate', cElem);\n                }\n            }\n        });\n\n        on(document, 'click', function(e) {\n            var cElem,\n                link,\n                ignoreTarget = '_blank',\n                _download;\n\n            cElem = e.srcElement || e.target;\n\n            if (Woopra.leftClick(e)) {\n                fire('click', e, cElem);\n            }\n\n            if (_download_tracking || _outgoing_tracking) {\n\n                // searches for an anchor element\n                while (typeof cElem !== 'undefined' && cElem !== null) {\n                    if (cElem.tagName && cElem.tagName.toLowerCase() === 'a') {\n                        break;\n                    }\n                    cElem = cElem.parentNode;\n                }\n\n                if (typeof cElem !== 'undefined' && cElem !== null &&\n                    !cElem.getAttribute('data-woopra-tracked')) {\n                    link = cElem;\n                    _download = link.pathname.match(/(?:doc|dmg|eps|svg|xls|ppt|pdf|xls|zip|txt|vsd|vxd|js|css|rar|exe|wma|mov|avi|wmv|mp3|mp4|m4v)($|\\&)/);\n\n                    if (_download_tracking && _download) {\n                        fire('download', link.href);\n\n                        if (link.target !== ignoreTarget && Woopra.leftClick(e)) {\n                            e.preventDefault();\n                            e.stopPropagation();\n\n                            link.setAttribute('data-woopra-tracked', true);\n                            window.setTimeout(function() {\n                                link.click();\n                            }, _download_pause);\n                        }\n                    }\n                    // Make sure\n                    // * outgoing tracking is enabled\n                    // * this URL does not match a download URL (doesn't end\n                    //   in a binary file extension)\n                    // * not ignoring subdomains OR link hostname is not a partial\n                    //   match of current hostname (to check for subdomains),\n                    // * hostname is not empty\n                    if (_outgoing_tracking &&\n                        !_download &&\n                        Woopra.isOutgoingLink(link.hostname)) {\n                        fire('outgoing', link.href);\n\n                        if (link.target !== ignoreTarget && Woopra.leftClick(e)) {\n                            e.preventDefault();\n                            e.stopPropagation();\n\n                            link.setAttribute('data-woopra-tracked', true);\n\n                            window.setTimeout(function() {\n                                link.click();\n                            }, _outgoing_pause);\n                        }\n                    }\n                }\n            }\n        });\n\n        on(document, 'mousemove', function(e) {\n            fire('mousemove', e, new Date());\n        });\n\n        on(document, 'keydown', function() {\n            fire('keydown');\n        });\n    })(Woopra.attachEvent, Woopra._fire);\n\n    var Tracker = function(instanceName) {\n        this.visitorData = {};\n        this.sessionData = {};\n\n        this.options = {\n            app: 'js-client',\n            use_cookies: true,\n            ping: true,\n            ping_interval: 12000,\n            idle_timeout: 300000,\n            idle_threshold: 10000,\n            download_pause: _download_pause || 200,\n            outgoing_pause: _outgoing_pause || 200,\n            download_tracking: false,\n            outgoing_tracking: false,\n            outgoing_ignore_subdomain: true,\n            hide_campaign: false,\n            hide_xdm_data: false,\n            campaign_once: false,\n            third_party: false,\n            save_url_hash: true,\n            cross_domain: false,\n            region: null,\n            ignore_query_url: false,\n            map_query_params: {},\n            cookie_name: 'wooTracker',\n            cookie_domain: '.' + Woopra.getHostnameNoWww(),\n            cookie_path: '/',\n            cookie_expire: new Date(new Date().setDate(new Date().getDate() + 730))\n        };\n\n        this.instanceName = instanceName || 'woopra';\n        this.idle = 0;\n        this.cookie = '';\n        this.last_activity = new Date();\n        this.loaded = false;\n        this.dirtyCookie = false;\n        this.sentCampaign = false;\n        this.version = VERSION;\n\n        if (instanceName && instanceName !== '') {\n            window[instanceName] = this;\n        }\n    };\n\n    Tracker.prototype = {\n        docCookies: docCookies,\n        init: function() {\n            var callback,\n                self = this;\n\n            this.__l = {};\n            this._processQueue('config');\n            this._setupCookie();\n            this._bindEvents();\n\n            // Otherwise loading indicator gets stuck until the every response\n            // in the queue has been received\n            setTimeout(function() {\n                self._processQueue();\n            }, 1);\n\n            this.loaded = true;\n\n            callback = this.config('initialized');\n            if (callback && typeof callback === 'function') {\n                callback(this.instanceName);\n            }\n\n            // Safe to remove cross domain url parameter after setupCookie is called\n            // Should only need to be called once on load\n            if (this.config('hide_xdm_data')) {\n                Woopra.hideCrossDomainId();\n            }\n\n        },\n\n        /**\n         * Processes the tracker queue in case user tries to push events\n         * before tracker is ready.\n         */\n        _processQueue: function(type) {\n            var i,\n                action,\n                events,\n                _wpt;\n\n            _wpt = window.__woo ? window.__woo[this.instanceName] : _wpt;\n            _wpt = window._w ? window._w[this.instanceName] : _wpt;\n\n            // if _wpt is undefined, means script was loaded asynchronously and\n            // there is no queue\n\n            if (_wpt && _wpt._e) {\n                events = _wpt._e;\n                for (i = 0; i < events.length; i++) {\n                    action = events[i];\n                    if (typeof action !== 'undefined' && this[action[0]] &&\n                        (typeof type === 'undefined' || type === action[0])) {\n                        this[action[0]].apply(this, Array.prototype.slice.call(action, 1));\n                    }\n                }\n            }\n        },\n\n        /**\n         * Sets up the tracking cookie\n         */\n        _setupCookie: function() {\n            var url_id = this.getUrlId();\n\n            this.cookie = this.getCookie();\n\n            // overwrite saved cookie if id is in url\n            if (url_id) {\n                this.cookie = url_id;\n            }\n\n            // Setup cookie\n            if (!this.cookie || this.cookie.length < 1) {\n                this.cookie = Woopra.randomString();\n            }\n\n            docCookies.setItem(\n                this.config('cookie_name'),\n                this.cookie,\n                this.config('cookie_expire'),\n                this.config('cookie_path'),\n                this.config('cookie_domain')\n            );\n\n            this.dirtyCookie = true;\n        },\n\n        /**\n         * Binds some events to measure mouse and keyboard events\n         */\n        _bindEvents: function() {\n            var self = this;\n\n            _on(this, 'mousemove', function() {\n                self.moved.apply(self, arguments);\n            });\n            _on(this, 'keydown', function() {\n                self.typed.apply(self, arguments);\n            });\n            _on(this, 'download', function() {\n              self.downloaded.apply(self, arguments);\n            });\n            _on(this, 'outgoing', function() {\n              self.outgoing.apply(self, arguments);\n            });\n            _on(this, 'auto_decorate', function() {\n              self.autoDecorate.apply(self, arguments);\n            });\n        },\n\n        /**\n         * Sets/gets values from dataStore depending on arguments passed\n         *\n         * @param dataStore Object The tracker property to read/write\n         * @param key String/Object Returns property object if key and value is undefined,\n         *      acts as a getter if only `key` is defined and a string, and\n         *      acts as a setter if `key` and `value` are defined OR if `key` is an object.\n         */\n        _dataSetter: function(dataStore, key, value) {\n            var i;\n\n            if (typeof key === 'undefined') {\n                return dataStore;\n            }\n\n            if (typeof value === 'undefined') {\n                if (typeof key === 'string') {\n                    return dataStore[key];\n                }\n                if (typeof key === 'object') {\n                    for (i in key) {\n                        if (key.hasOwnProperty(i)) {\n                            if (i.substring(0, 7) === 'cookie_') {\n                                this.dirtyCookie = true;\n                            }\n                            dataStore[i] = key[i];\n                        }\n                    }\n                }\n            }\n            else {\n                if (key.substring(0, 7) === 'cookie_') {\n                    this.dirtyCookie = true;\n                }\n                dataStore[key] = value;\n            }\n\n            return this;\n        },\n\n        /**\n         * Builds the correct tracking Url and performs an HTTP request\n         */\n        _push: function(options) {\n            var _options = options || {},\n                random = 'ra=' + Woopra.randomString(),\n                queryString,\n                endpoint,\n                urlParam,\n                scriptUrl,\n                types = [\n                    ['visitorData', 'cv_'],\n                    ['eventData', 'ce_'],\n                    ['sessionData', 'cs_']\n                ],\n                _type,\n                i,\n                data = [];\n\n            endpoint = this.getEndpoint(_options.endpoint);\n\n            // Load custom visitor params from url\n            Woopra.getVisitorUrlData(this);\n\n            if (this.config('hide_campaign')) {\n                Woopra.hideCampaignData();\n            }\n\n            data.push(random);\n\n            // push tracker config values\n            data.push(Woopra.buildUrlParams(this.getOptionParams()));\n\n            // push eventName if it exists\n            if (_options.eventName) {\n                data.push('event=' + _options.eventName);\n            }\n\n            for (i in types) {\n                if (types.hasOwnProperty(i)) {\n                    _type = types[i];\n                    if (_options[_type[0]]) {\n                        urlParam = Woopra.buildUrlParams(_options[_type[0]], _type[1]);\n                        if (urlParam) {\n                            data.push(urlParam);\n                        }\n                    }\n                }\n            }\n\n            queryString = '?' + data.join('&');\n\n            scriptUrl = endpoint + queryString;\n            Woopra.loadScript(scriptUrl, _options.callback);\n        },\n\n        /*\n         * Returns the Woopra cookie string\n         */\n        getCookie: function() {\n            return docCookies.getItem(this.config('cookie_name'));\n        },\n\n        /**\n         * Generates a destination endpoint string to use depending on different\n         * configuration options\n         */\n        getEndpoint: function(path) {\n            var protocol = this.config('protocol');\n            var _protocol = protocol && protocol !== '' ? protocol + ':' : '';\n            var _path = path || '';\n            var endpoint = _protocol + '//';\n            var region = this.config('region');\n            var thirdPartyPath;\n\n            if (this.config('third_party') && !this.config('domain')) {\n                throw new Error('Error: `domain` is not set.');\n            }\n\n            // create endpoint, default is www.woopra.com/track/\n            // China region will be cn.t.woopra.com/track\n            if (region) {\n                endpoint += region + '.t.';\n            }\n            else {\n                endpoint += 'www.';\n            }\n\n            thirdPartyPath = this.config('third_party') ? 'tp/' + this.config('domain') : '';\n\n            if (_path && !Woopra.endsWith(_path, '/')) {\n                _path += '/';\n            }\n\n            if (thirdPartyPath && !Woopra.startsWith(_path, '/')) {\n                thirdPartyPath += '/';\n            }\n\n            endpoint += ENDPOINT + thirdPartyPath + _path;\n\n            return endpoint;\n        },\n\n        /**\n         * Sets configuration options\n         */\n        config: function(key, value) {\n            var data = this._dataSetter(this.options, key, value);\n\n            // dataSetter returns `this` when it is used as a setter\n            if (data === this) {\n                // do validation\n                if (this.options.ping_interval < 6000) {\n                    this.options.ping_interval = 6000;\n                }\n                else if (this.options.ping_interval > 60000) {\n                    this.options.ping_interval = 60000;\n                }\n\n                // set script wide variables for events that are bound on script load\n                // since we shouldn't bind per tracker instance\n                _outgoing_tracking = this.options.outgoing_tracking;\n                _outgoing_pause = this.options.outgoing_pause;\n                _download_tracking = this.options.download_tracking;\n                _download_pause = this.options.download_pause;\n                _auto_decorate = typeof _auto_decorate === 'undefined' && this.options.cross_domain ? this.options.cross_domain : _auto_decorate;\n                _outgoing_ignore_subdomain = this.options.outgoing_ignore_subdomain;\n\n                if (this.dirtyCookie && this.loaded) {\n                    this._setupCookie();\n                }\n            }\n\n            return data;\n        },\n\n        /**\n         * Use to attach custom visit data that doesn't stick to visitor\n         * ** Not in use yet\n         */\n        visit: function(key, value) {\n            return this._dataSetter(this.sessionData, key, value);\n        },\n\n        /**\n         * Attach custom visitor data\n         */\n        identify: function(key, value) {\n            return this._dataSetter(this.visitorData, key, value);\n        },\n\n        /**\n         * Generic method to call any tracker method\n         */\n        call: function(funcName) {\n            if (this[funcName] && typeof this[funcName] === 'function') {\n                this[funcName].apply(this, Array.prototype.slice.call(arguments, 1));\n            }\n\n        },\n\n        /**\n         * Send an event to tracking servr\n         */\n        track: function(name, options) {\n            var event = {},\n                eventName = '',\n                cb,\n                _hash,\n                _cb = arguments[arguments.length - 1];\n\n            // Load campaign params (load first to allow overrides)\n            if (!this.config('campaign_once') || !this.sentCampaign) {\n                Woopra.extend(event, Woopra.getCampaignData());\n                this.sentCampaign = true;\n            }\n\n            // Load query params mapping into Woopra event\n            Woopra.extend(event, Woopra.mapQueryParams(this.config('map_query_params')));\n\n\n            if (typeof _cb === 'function') {\n                cb = _cb;\n            }\n            // Track default: pageview\n            if (typeof name === 'undefined' || name === cb) {\n                eventName = 'pv';\n            }\n            // Track custom events\n            else if (typeof options === 'undefined' || options === cb) {\n                if (typeof name === 'string') {\n                    eventName = name;\n                }\n                if (typeof name === 'object') {\n                    if (name.name && name.name === 'pv') {\n                        eventName = 'pv';\n                    }\n\n                    this._dataSetter(event, name);\n                }\n            }\n            // Track custom events in format of name,object\n            else {\n                this._dataSetter(event, options);\n                eventName = name;\n            }\n\n            // Add some defaults for pageview\n            if (eventName === 'pv') {\n                event.url = event.url || this.getPageUrl();\n                event.title = event.title || this.getPageTitle();\n                event.domain = event.domain || this.getDomainName();\n                event.uri = event.uri || this.getURI();\n\n                if (this.config('save_url_hash')) {\n                    _hash = event.hash || this.getPageHash();\n                    if (_hash !== '') {\n                        event.hash = _hash;\n                    }\n                }\n            }\n\n            this._push({\n                endpoint: 'ce',\n                visitorData: this.visitorData,\n                sessionData: this.sessionData,\n                eventName: eventName,\n                eventData: event,\n                callback: cb\n            });\n\n            this.startPing();\n        },\n\n        /**\n         * Tracks a single form and then resubmits it\n         */\n        trackForm: function(eventName, selector, options) {\n            var els;\n            var _event = eventName || 'Tracked Form';\n            var _options = typeof selector === 'string' ? options || {} : selector || {};\n            var bindEl;\n            var self = this;\n\n            bindEl = function(el, ev, props, opts) {\n                Woopra.attachEvent(el, 'submit', function(e) {\n                    self.trackFormHandler(e, el, ev, _options);\n                });\n            };\n\n            if (_options.elements) {\n                els = _options.elements;\n            }\n            else {\n                els = Woopra.getElement(selector, _options);\n            }\n\n            // attach event if form was found\n            if (els && els.length > 0) {\n                for (var i in els) {\n                    bindEl(els[i], _event, _options);\n                }\n            }\n        },\n\n        trackFormHandler: function(e, el, eventName, options) {\n            var data;\n            var personData;\n            var trackFinished = false;\n\n            if (!el.getAttribute('data-tracked')) {\n                data = Woopra.serializeForm(el, options);\n\n                if (options.identify && typeof options.identify === 'function') {\n                    personData = options.identify(data) || {};\n                    if (personData) {\n                        this.identify(personData);\n                    }\n                }\n\n                if (options.noSubmit) {\n                    this.track(eventName, data, function() {\n                        if (typeof options.callback === 'function') {\n                            options.callback(data);\n                        }\n                    });\n                }\n                else {\n                    e.preventDefault();\n                    e.stopPropagation();\n\n                    el.setAttribute('data-tracked', 1);\n\n                    // submit the form if the reply takes less than 250ms\n                    this.track(eventName, data, function() {\n                        trackFinished = true;\n\n                        if (typeof options.callback === 'function') {\n                            options.callback(data);\n                        }\n\n                        el.submit();\n                    });\n\n                    // set timeout to resubmit to be a hard 250ms\n                    // so even if woopra does not reply it will still\n                    // submit the form\n                    setTimeout(function() {\n                        if (!trackFinished) {\n                            el.submit();\n                        }\n                    }, 250);\n                }\n            }\n        },\n\n        /**\n         * Tracks clicks\n         *\n         * @param {String} eventName The name of the event to track\n         * @param {String} selector The id of element to track\n         * @param {Object} properties Any event properties to track with\n         * @param {Object} options (Optional) Options object\n         * @param {Array} options.elements Supports an array of elements (jQuery object)\n         * @param {Boolean} options.noNav (Default: false) If true, will only perform the track event and let the click event bubble up\n         */\n        trackClick: function(eventName, selector, properties, options) {\n            var els = [];\n            var i;\n            var _options = options || {};\n            var _event = eventName || 'Item Clicked';\n            var bindEl;\n            var self = this;\n\n            bindEl = function(el, ev, props, opts) {\n                Woopra.attachEvent(el, 'click', function(e) {\n                    self.trackClickHandler(e, el, ev, props, opts);\n                });\n            };\n\n            /**\n             * Support an array of elements\n             */\n            if (_options.elements) {\n                els = _options.elements;\n            }\n            else {\n                els = Woopra.getElement(selector, _options);\n            }\n\n            if (els) {\n                for (i = 0; i < els.length; i++) {\n                    bindEl(els[i], _event, properties, _options);\n                }\n            }\n        },\n\n        trackClickHandler: function(e, el, eventName, properties, options) {\n            var trackFinished = false;\n\n            if (!el.getAttribute('data-tracked')) {\n                if (options.noNav) {\n                    this.track(eventName, properties);\n                }\n                else {\n                    e.preventDefault();\n\n                    el.setAttribute('data-tracked', 1);\n\n                    this.track(eventName, properties, function() {\n                        trackFinished = true;\n\n                        if (typeof options.callback === 'function') {\n                            options.callback();\n                        }\n\n                        el.click();\n                    });\n\n                    setTimeout(function() {\n                        if (!trackFinished) {\n                            el.click();\n                        }\n                    }, 250);\n                }\n            }\n        },\n\n        startPing: function() {\n            var self = this;\n\n            if (typeof this.pingInterval === 'undefined') {\n                this.pingInterval = window.setInterval(function() {\n                    self.ping();\n                }, this.config('ping_interval'));\n            }\n        },\n\n        stopPing: function() {\n            if (typeof this.pingInterval !== 'undefined') {\n                window.clearInterval(this.pingInterval);\n                delete this.pingInterval;\n            }\n        },\n\n        /**\n         * Pings tracker with visitor info\n         */\n        ping: function() {\n            var now;\n\n            if (this.config('ping') && this.idle < this.config('idle_timeout')) {\n                this._push({\n                    endpoint: 'ping'\n                });\n            }\n            else {\n                this.stopPing();\n            }\n\n            now = new Date();\n            if (now - this.last_activity > this.config('idle_threshold')) {\n                this.idle = now - this.last_activity;\n            }\n\n            return this;\n        },\n\n        /**\n         * Pushes visitor data to server without sending an event\n         */\n        push: function(cb) {\n            this._push({\n                endpoint: 'identify',\n                visitorData: this.visitorData,\n                sessionData: this.sessionData,\n                callback: cb\n            });\n            return this;\n        },\n\n        /**\n         * synchronous sleep\n         */\n        sleep: function() {\n        },\n\n        // User Action tracking and event handlers\n\n        /**\n         * Clicks\n         */\n\n        /**\n         * Measure when the user last moved their mouse to update idle state\n         */\n        moved: function(e, last_activity) {\n            this.last_activity = last_activity;\n            this.idle = 0;\n        },\n\n        /**\n         * Measure when user last typed\n         */\n        typed: function() {\n            this.vs = 2;\n        },\n\n        downloaded: function(url) {\n            this.track('download', {\n                url: url\n            });\n        },\n\n        outgoing: function(url) {\n            this.track('outgoing', {\n                url: url\n            });\n        },\n\n        /**\n         * Event handler for decorating an element with a URL (for now only\n         * anchor tags)\n         */\n        autoDecorate: function(elem) {\n            var decorated;\n            var canDecorate;\n            var xdm = this.config('cross_domain');\n\n            if (xdm) {\n                if (typeof xdm === 'string') {\n                    canDecorate = elem.href.indexOf(xdm) > -1;\n                }\n                else if (xdm.push) {\n                    canDecorate = xdm.indexOf(elem.hostname) > -1;\n                }\n\n                if (canDecorate) {\n                    decorated = this.decorate(elem);\n\n                    if (decorated) {\n                        elem.href = decorated;\n                        // bind an event handler on mouseup to remove the url\n                    }\n                }\n            }\n        },\n\n        /**\n         * Resets cookie\n         */\n        reset: function() {\n            docCookies.removeItem(\n                this.config('cookie_name'),\n                this.config('cookie_path'),\n                this.config('cookie_domain')\n            );\n            this.cookie = null;\n            this._setupCookie();\n        },\n\n        /**\n         * Decorates a given URL with a __woopraid query param with value of\n         * the current cookie\n         */\n        decorate: function(url) {\n            var el;\n            var query;\n            var pathname;\n            var host;\n\n            if (typeof url === 'string') {\n                el = document.createElement('a');\n                el.href = url;\n                query = el.search ? '&' : '?';\n            }\n            else if (url && url.href) {\n                el = url;\n            }\n\n            if (el) {\n                query = el.search ? '&' : '?';\n                pathname = el.pathname && el.pathname.charAt(0) === '/' ? el.pathname : '/' + el.pathname;\n\n                host = el.hostname + (el.port && el.port !== '' && el.port !== '80' && el.port !== '0' ? ':' + el.port : '');\n\n                return el.protocol + '//' +\n                    host +\n                    pathname +\n                    el.search +\n                    query + XDM_PARAM_NAME + '=' + this.cookie +\n                    el.hash;\n            }\n        },\n\n        /**\n         * Undecorates a URL with __woopraid query param\n         */\n        undecorate: function(url) {\n            var regex = new RegExp('[?&]+(?:' + XDM_PARAM_NAME + ')=([^&#]*)', 'gi');\n            var _url = url;\n\n            if (url && url.href) {\n                _url = url.href;\n            }\n\n            if (_url) {\n                return _url.replace(regex, '');\n            }\n       },\n\n        getPageUrl: function() {\n            if (this.options.ignore_query_url) {\n                return Woopra.location('pathname');\n            }\n            else {\n                return Woopra.location('pathname') + Woopra.location('search');\n            }\n        },\n\n        getPageHash: function() {\n            return Woopra.location('hash');\n        },\n\n        getPageTitle: function() {\n            return (document.getElementsByTagName('title').length === 0) ? '' : document.getElementsByTagName('title')[0].innerHTML;\n        },\n\n        getDomainName: function() {\n          return Woopra.location('hostname');\n        },\n\n        getURI: function() {\n          return Woopra.location('href');\n        },\n\n        /**\n         * Retrieves a Woopra unique id from a URL's query param (__woopraid)\n         *\n         * @param {String} href The full URL to extract from\n         */\n        getUrlId: function(href) {\n            var _href = href || Woopra.location('href');\n            var matches;\n            var regex = new RegExp(XDM_PARAM_NAME + '=([^&#]+)');\n\n            matches = _href.match(regex);\n\n            if (matches && matches[1]) {\n                return matches[1];\n            }\n        },\n\n        getOptionParams: function() {\n            // default params\n            var o = {\n                alias: this.config('domain') || Woopra.getHostnameNoWww(),\n                instance: this.instanceName,\n                ka: this.config('keep_alive') || this.config('ping_interval') * 2,\n                meta: docCookies.getItem('wooMeta') || '',\n                screen: window.screen.width + 'x' + window.screen.height,\n                language: window.navigator.browserLanguage || window.navigator.language || '',\n                app: this.config('app'),\n                referer: this.config('referer') || document.referrer,\n                idle: '' + parseInt(this.idle / 1000, 10),\n                vs: 'i'\n            };\n\n            if (!this.config('domain')) {\n                o._warn = 'no_domain';\n\n                if (Woopra.getHostnameNoWww() !== Woopra.getDomain()) {\n                    o._warn += ',domain_mismatch';\n                }\n            }\n\n            // set cookie if configured\n            if (this.config('use_cookies')) {\n                o.cookie = this.getCookie() || this.cookie;\n            }\n\n            // set ip if configured\n            if (this.config('ip')) {\n                o.ip = this.config('ip');\n            }\n            // this.vs is 2 after typing so 'writing'\n            if (this.vs === 2) {\n                o.vs = 'w';\n                this.vs = 0;\n            }\n            else if (this.idle === 0) {\n                o.vs = 'r';\n            }\n\n            return o;\n        },\n\n        /**\n         * Stop ping timers and cleanup any globals.  Shouldn't really\n         * be needed by clients.\n         */\n        dispose: function() {\n            this.stopPing();\n\n            for (var id in this.__l) {\n                if (this.__l.hasOwnProperty(id)) {\n                    _handler[id][this.instanceName] = null;\n                }\n            }\n            this.__l = null;\n\n            // cleanup global\n            if (typeof window[this.instanceName] !== 'undefined') {\n                try {\n                    delete window[this.instanceName];\n                }\n                catch(e) {\n                    window[this.instanceName] = undefined;\n                }\n            }\n        }\n    };\n\n    window.WoopraTracker = Tracker;\n    window.WoopraLoadScript = Woopra.loadScript;\n\n    if (typeof window.exports !== 'undefined') {\n        Woopra.Tracker = Tracker;\n        window.exports.Woopra = Woopra;\n\n        if (typeof window.woopraLoaded === 'function') {\n            window.woopraLoaded();\n            window.woopraLoaded = null;\n        }\n    }\n\n    // Initialize instances & preloaded settings/events\n    var _queue = window.__woo || window._w;\n    if (typeof _queue !== 'undefined') {\n        for (var name in _queue) {\n            if (_queue.hasOwnProperty(name)) {\n                var instance = new Tracker(name);\n                instance.init();\n\n                // DO NOT REMOVE\n                // compatibility with old tracker and chat\n                if (typeof window.woopraTracker === 'undefined') {\n                    window.woopraTracker = instance;\n                }\n            }\n        }\n    }\n\n})(window, document);\n";
},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2),i=n(2),a=n(132),s=o.createFactory(n(180)),u=n(181),c=n(129),l=n(2).unstable_renderSubtreeIntoContainer,f=a.canUseDOM?window.HTMLElement:{},p=a.canUseDOM?document.body:{appendChild:function(){}},d=o.createClass({displayName:"Modal",statics:{setAppElement:function(e){p=u.setElement(e)},injectCSS:function(){}},propTypes:{isOpen:o.PropTypes.bool.isRequired,style:o.PropTypes.shape({content:o.PropTypes.object,overlay:o.PropTypes.object}),portalClassName:o.PropTypes.string,bodyClassName:o.PropTypes.string,appElement:o.PropTypes.instanceOf(f),onAfterOpen:o.PropTypes.func,onRequestClose:o.PropTypes.func,closeTimeoutMS:o.PropTypes.number,ariaHideApp:o.PropTypes.bool,shouldCloseOnOverlayClick:o.PropTypes.bool},getDefaultProps:function(){return{isOpen:!1,portalClassName:"ReactModalPortal",bodyClassName:"ReactModal__Body",ariaHideApp:!0,closeTimeoutMS:0,shouldCloseOnOverlayClick:!0}},componentDidMount:function(){this.node=document.createElement("div"),this.node.className=this.props.portalClassName,document.body.appendChild(this.node),this.renderPortal(this.props)},componentWillReceiveProps:function(e){this.renderPortal(e)},componentWillUnmount:function(){i.unmountComponentAtNode(this.node),document.body.removeChild(this.node),c(document.body).remove(this.openBodyClass())},openBodyClass:function(){return this.props.bodyClassName+"--open"},renderPortal:function(e){e.isOpen?c(document.body).add(this.openBodyClass()):c(document.body).remove(this.openBodyClass()),e.ariaHideApp&&u.toggle(e.isOpen,e.appElement),this.portal=l(this,s(r({},e,{defaultStyles:d.defaultStyles})),this.node)},render:function(){return o.DOM.noscript()}});d.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},e.exports=d},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2),i=o.DOM.div,a=n(182),s=n(183),u=function(){},c={onAfterClose:u,style:{overlay:{},content:{}},overlayClassName:"ReactModal__Overlay",className:"ReactModal__Content"};e.exports=o.createClass({displayName:"ModalPortal",shouldClose:null,getDefaultProps:function(){return c},getInitialState:function(){return{afterOpen:!1,beforeClose:!1}},componentDidMount:function(){this.props.isOpen&&(this.setFocusAfterRender(!0),this.open())},componentWillUnmount:function(){clearTimeout(this.closeTimer)},componentWillReceiveProps:function(e){!this.props.isOpen&&e.isOpen?(this.setFocusAfterRender(!0),this.open()):this.props.isOpen&&!e.isOpen&&this.close()},componentDidUpdate:function(){this.focusAfterRender&&(this.focusContent(),this.setFocusAfterRender(!1))},setFocusAfterRender:function(e){this.focusAfterRender=e},open:function(){this.state.afterOpen&&this.state.beforeClose?(clearTimeout(this.closeTimer),this.setState({beforeClose:!1})):(a.setupScopedFocus(this.node),a.markForFocusLater(),this.setState({isOpen:!0},function(){this.setState({afterOpen:!0}),this.props.isOpen&&this.props.onAfterOpen&&this.props.onAfterOpen()}.bind(this)))},close:function(){this.ownerHandlesClose()&&(this.props.closeTimeoutMS>0?this.closeWithTimeout():this.closeWithoutTimeout())},focusContent:function(){this.contentHasFocus()||this.refs.content.focus()},closeWithTimeout:function(){this.setState({beforeClose:!0},function(){this.closeTimer=setTimeout(this.closeWithoutTimeout,this.props.closeTimeoutMS)}.bind(this))},closeWithoutTimeout:function(){this.setState({beforeClose:!1,isOpen:!1,afterOpen:!1},this.afterClose)},afterClose:function(){a.returnFocus(),a.teardownScopedFocus(),this.props.onAfterClose()},handleKeyDown:function(e){9==e.keyCode&&s(this.refs.content,e),27==e.keyCode&&(e.preventDefault(),this.requestClose(e))},handleOverlayMouseDown:function(e){null===this.shouldClose&&(this.shouldClose=!0)},handleOverlayMouseUp:function(e){this.shouldClose&&this.props.shouldCloseOnOverlayClick&&(this.ownerHandlesClose()?this.requestClose(e):this.focusContent()),this.shouldClose=null},handleContentMouseDown:function(e){this.shouldClose=!1},handleContentMouseUp:function(e){this.shouldClose=!1},requestClose:function(e){this.ownerHandlesClose()&&this.props.onRequestClose(e)},ownerHandlesClose:function(){return this.props.onRequestClose},shouldBeClosed:function(){return!this.props.isOpen&&!this.state.beforeClose},contentHasFocus:function(){return document.activeElement===this.refs.content||this.refs.content.contains(document.activeElement)},buildClassName:function(e){var t=e+" ";return this.state.afterOpen&&(t+=e+"--after-open"),this.state.beforeClose&&(t+=e+"--before-close"),t},getPropInlineStyle:function(e,t){var n=e?this.props.defaultStyles[t]:{},o=this.props.style[t]||{};return r({},n,o)},isPropEqualToDefault:function(e){return this.props[e]===c[e]},render:function(){var e=this.getPropInlineStyle(this.isPropEqualToDefault("className"),"content"),t=this.getPropInlineStyle(this.isPropEqualToDefault("overlayClassName"),"overlay");return this.shouldBeClosed()?i():i({ref:"overlay",className:this.buildClassName(this.props.overlayClassName),style:t,onMouseDown:this.handleOverlayMouseDown,onMouseUp:this.handleOverlayMouseUp},i({ref:"content",style:e,className:this.buildClassName(this.props.className),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentMouseDown,onMouseUp:this.handleContentMouseUp,role:"dialog"},this.props.children))}})},function(e,t){"use strict";function n(e){if("string"==typeof e){var t=document.querySelectorAll(e);e="length"in t?t[0]:t}return u=e||u}function r(e){a(e),(e||u).setAttribute("aria-hidden","true")}function o(e){a(e),(e||u).removeAttribute("aria-hidden")}function i(e,t){e?r(t):o(t)}function a(e){if(!e&&!u)throw Error("react-modal: You must set an element with `Modal.setAppElement(el)` to make this accessible")}function s(){u=document.body}var u="undefined"!=typeof document?document.body:null;t.toggle=i,t.setElement=n,t.show=o,t.hide=r,t.resetForTesting=s},function(e,t,n){"use strict";function r(e){u=!0}function o(e){if(u){if(u=!1,!a)return;setTimeout(function(){if(!a.contains(document.activeElement)){var e=i(a)[0]||a;e.focus()}},0)}}var i=n(61),a=null,s=null,u=!1;t.markForFocusLater=function(){s=document.activeElement},t.returnFocus=function(){try{s.focus()}catch(e){console.warn("You tried to return focus to "+s+" but it is not in the DOM anymore")}s=null},t.setupScopedFocus=function(e){a=e,window.addEventListener?(window.addEventListener("blur",r,!1),document.addEventListener("focus",o,!0)):(window.attachEvent("onBlur",r),document.attachEvent("onFocus",o))},t.teardownScopedFocus=function(){a=null,window.addEventListener?(window.removeEventListener("blur",r),document.removeEventListener("focus",o)):(window.detachEvent("onBlur",r),document.detachEvent("onFocus",o))}},function(e,t,n){"use strict";var r=n(61);e.exports=function(e,t){var n=r(e);if(!n.length)return void t.preventDefault();var o=n[t.shiftKey?0:n.length-1],i=o===document.activeElement||e===document.activeElement;if(i){t.preventDefault();var a=n[t.shiftKey?n.length-1:0];a.focus()}}},function(e,t,n){"use strict";e.exports=n(179)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var s=n(2),u=n(62),c=r(u),l=n(63),f=(r(l),function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return a.store=n.store,a}return a(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){return s.Children.only(this.props.children)},t}(s.Component));t.default=f,f.propTypes={store:c.default.isRequired,children:s.PropTypes.element.isRequired},f.childContextTypes={store:c.default.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.displayName||e.name||"Component"}function u(e,t){try{return e.apply(t)}catch(e){return S.value=e,S}}function c(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=!!e,p=e||E,h=void 0;h="function"==typeof t?t:t?(0,y.default)(t):O;var m=n||C,g=r.pure,b=void 0===g||g,_=r.withRef,k=void 0!==_&&_,T=b&&m!==C,j=P++;return function(e){function t(e,t,n){var r=m(e,t,n);return r}var n="Connect("+s(e)+")",r=function(r){function s(e,t){o(this,s);var a=i(this,r.call(this,e,t));a.version=j,a.store=e.store||t.store,(0,x.default)(a.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var u=a.store.getState();return a.state={storeState:u},a.clearCache(),a}return a(s,r),s.prototype.shouldComponentUpdate=function(){return!b||this.haveOwnPropsChanged||this.hasStoreStateChanged},s.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},s.prototype.configureFinalMapState=function(e,t){var n=p(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:p,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},s.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},s.prototype.configureFinalMapDispatch=function(e,t){var n=h(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:h,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},s.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return!(this.stateProps&&(0,v.default)(e,this.stateProps)||(this.stateProps=e,0))},s.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return!(this.dispatchProps&&(0,v.default)(e,this.dispatchProps)||(this.dispatchProps=e,0))},s.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&T&&(0,v.default)(e,this.mergedProps)||(this.mergedProps=e,0))},s.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},s.prototype.trySubscribe=function(){c&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},s.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},s.prototype.componentDidMount=function(){this.trySubscribe()},s.prototype.componentWillReceiveProps=function(e){b&&(0,v.default)(e,this.props)||(this.haveOwnPropsChanged=!0)},s.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},s.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},s.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!b||t!==e){if(b&&!this.doStatePropsDependOnOwnProps){var n=u(this.updateStatePropsIfNeeded,this);if(!n)return;n===S&&(this.statePropsPrecalculationError=S.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},s.prototype.getWrappedInstance=function(){return(0,x.default)(k,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},s.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,i=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var a=!0,s=!0;b&&i&&(a=n||t&&this.doStatePropsDependOnOwnProps,s=t&&this.doDispatchPropsDependOnOwnProps);var u=!1,c=!1;r?u=!0:a&&(u=this.updateStatePropsIfNeeded()),s&&(c=this.updateDispatchPropsIfNeeded());var p=!0;return p=!!(u||c||t)&&this.updateMergedPropsIfNeeded(),!p&&i?i:this.renderedElement=k?(0,f.createElement)(e,l({},this.mergedProps,{ref:"wrappedInstance"})):(0,f.createElement)(e,this.mergedProps)},s}(f.Component);return r.displayName=n,r.WrappedComponent=e,r.contextTypes={store:d.default},r.propTypes={store:d.default},(0,w.default)(r,e)}}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=c;var f=n(2),p=n(62),d=r(p),h=n(187),v=r(h),m=n(188),y=r(m),g=n(63),b=(r(g),n(29)),_=(r(b),n(150)),w=r(_),k=n(55),x=r(k),E=function(e){return{}},O=function(e){return{dispatch:e}},C=function(e,t,n){return l({},n,e,t)},S={value:null},P=0},function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;n.length>i;i++)if(!o.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function r(e){return function(t){return(0,o.bindActionCreators)(e,t)}}t.__esModule=!0,t.default=r;var o=n(13)},function(e,t,n){!function(t,r){e.exports=r(n(2),n(2))}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e=void 0;return e=p?navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices):f?function(e){return new Promise(function(t,n){f.call(navigator,e,t,n)})}:null}t.__esModule=!0;var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(2),f=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,p=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,d=!!a(),h=function(e){function t(n){if(o(this,t),e.call(this,n),this.state={hasUserMedia:!1},!d){var r=Error("getUserMedia is not supported by this browser");this.props.onFailure(r)}}return i(t,e),s(t,null,[{key:"defaultProps",value:{audio:!0,height:480,width:640,screenshotFormat:"image/webp",onUserMedia:function(){},onFailure:function(e){}},enumerable:!0},{key:"propTypes",value:{audio:u.PropTypes.bool,muted:u.PropTypes.bool,onUserMedia:u.PropTypes.func,height:u.PropTypes.oneOfType([u.PropTypes.number,u.PropTypes.string]),width:u.PropTypes.oneOfType([u.PropTypes.number,u.PropTypes.string]),screenshotFormat:u.PropTypes.oneOf(["image/webp","image/png","image/jpeg"]),className:u.PropTypes.string},enumerable:!0},{key:"mountedInstances",value:[],enumerable:!0},{key:"userMediaRequested",value:!1,enumerable:!0}]),t.prototype.componentDidMount=function(){t.mountedInstances.push(this),t.userMediaRequested||this.requestUserMedia()},t.prototype.requestUserMedia=function(){var e=this,n=function(n,r){var o=e.props,i=o.width,s=o.height,u={video:{sourceId:r,width:{exact:i},height:{exact:s}}};e.props.audio&&(u.audio={sourceId:n});var c=function(e){return console.log("error",e,typeof e)},l=function(e){t.mountedInstances.forEach(function(t){return t.handleUserMedia(null,e)})},f=function(e){c(e),t.mountedInstances.forEach(function(t){return t.handleUserMedia(e)})},p=function(e,t){var n=a();n(e).then(l).catch(t)};p(u,function(e){"ConstraintNotSatisfiedError"===e.name?(u.video={sourceId:r,width:i,height:s},p(u,f)):f(e)})};this.props.audioSource&&this.props.videoSource?n(this.props.audioSource,this.props.videoSource):"mediaDevices"in navigator?navigator.mediaDevices.enumerateDevices().then(function(e){var t=null,r=null;e.forEach(function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(r=e.id)}),n(t,r)}).catch(function(e){console.log(e.name+": "+e.message)}):MediaStreamTrack.getSources(function(e){var t=null,r=null;e.forEach(function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(r=e.id)}),n(t,r)}),t.userMediaRequested=!0},t.prototype.handleUserMedia=function(e,t){if(e)return this.setState({hasUserMedia:!1}),void this.props.onFailure(e);var n=window.URL.createObjectURL(t);this.stream=t,this.setState({hasUserMedia:!0,src:n}),this.props.onUserMedia()},t.prototype.componentWillUnmount=function(){var e=t.mountedInstances.indexOf(this);if(t.mountedInstances.splice(e,1),0===t.mountedInstances.length&&this.state.hasUserMedia){if(this.stream.stop)this.stream.stop();else{if(this.stream.getVideoTracks)for(var n=this.stream.getVideoTracks(),r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if(o=n.next(),o.done)break;i=o.value}var a=i;a.stop()}if(this.stream.getAudioTracks)for(var s=this.stream.getAudioTracks(),u=Array.isArray(s),c=0,s=u?s:s[Symbol.iterator]();;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if(c=s.next(),c.done)break;l=c.value}var a=l;a.stop()}}t.userMediaRequested=!1,window.URL.revokeObjectURL(this.state.src)}},t.prototype.getScreenshot=function(){if(!this.state.hasUserMedia)return null;var e=this.getCanvas();return e.toDataURL(this.props.screenshotFormat)},t.prototype.getCanvas=function(){if(!this.state.hasUserMedia)return null;var e=l.findDOMNode(this);this.canvas||(this.canvas=document.createElement("canvas"));var t=this.canvas;this.ctx||(this.ctx=t.getContext("2d"));var n=this.ctx;return t.width=e.videoWidth,t.height=e.videoHeight,n.drawImage(e,0,0,t.width,t.height),t},t.prototype.render=function(){return c.default.createElement("video",{autoPlay:!0,width:this.props.width,height:this.props.height,src:this.state.src,muted:this.props.muted,className:this.props.className})},t}(u.Component);t.default=h,e.exports=t.default},function(t,n){t.exports=e},function(e,n){e.exports=t}])})},function(e,t,n){var r,o,i;!function(n,a){o=[],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(){function e(t,n,r){function o(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}var i={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null};r||(r={});for(var a in i)this[a]=void 0!==r[a]?r[a]:i[a];this.url=t,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var s,u=this,c=!1,l=!1,f=document.createElement("div");f.addEventListener("open",function(e){u.onopen(e)}),f.addEventListener("close",function(e){u.onclose(e)}),f.addEventListener("connecting",function(e){u.onconnecting(e)}),f.addEventListener("message",function(e){u.onmessage(e)}),f.addEventListener("error",function(e){u.onerror(e)}),this.addEventListener=f.addEventListener.bind(f),this.removeEventListener=f.removeEventListener.bind(f),this.dispatchEvent=f.dispatchEvent.bind(f),this.open=function(t){if(s=new WebSocket(u.url,n||[]),t){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else f.dispatchEvent(o("connecting")),this.reconnectAttempts=0;(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",u.url);var r=s,i=setTimeout(function(){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",u.url),l=!0,r.close(),l=!1},u.timeoutInterval);s.onopen=function(n){clearTimeout(i),(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onopen",u.url),u.protocol=s.protocol,u.readyState=WebSocket.OPEN,u.reconnectAttempts=0;var r=o("open");r.isReconnect=t,t=!1,f.dispatchEvent(r)},s.onclose=function(n){if(clearTimeout(i),s=null,c)u.readyState=WebSocket.CLOSED,f.dispatchEvent(o("close"));else{u.readyState=WebSocket.CONNECTING;var r=o("connecting");r.code=n.code,r.reason=n.reason,r.wasClean=n.wasClean,f.dispatchEvent(r),t||l||((u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onclose",u.url),f.dispatchEvent(o("close")));var i=u.reconnectInterval*Math.pow(u.reconnectDecay,u.reconnectAttempts);setTimeout(function(){u.reconnectAttempts++,u.open(!0)},i>u.maxReconnectInterval?u.maxReconnectInterval:i)}},s.onmessage=function(t){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",u.url,t.data);var n=o("message");n.data=t.data,f.dispatchEvent(n)},s.onerror=function(t){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onerror",u.url,t),f.dispatchEvent(o("error"))}},1==this.automaticOpen&&this.open(!1),this.send=function(t){if(s)return(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","send",u.url,t),s.send(t);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),c=!0,s&&s.close(e,t)},this.refresh=function(){s&&s.close()}}if("WebSocket"in window)return e.prototype.onopen=function(e){},e.prototype.onclose=function(e){},e.prototype.onconnecting=function(e){},e.prototype.onmessage=function(e){},e.prototype.onerror=function(e){},e.debugAll=!1,e.CONNECTING=WebSocket.CONNECTING,e.OPEN=WebSocket.OPEN,e.CLOSING=WebSocket.CLOSING,e.CLOSED=WebSocket.CLOSED,e})},function(e,t,n){"use strict";function r(e,t){return e===t}function o(e,t,n){n=n||r;var o=i(e(),t);return function(r){return function(){var a=i(e(),t);if(!n(o,a)){var s=o;o=a,r(a,s,t)}}}}var i=n(161).get;e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a=e(n,r,o),u=a.dispatch,c=[],l={getState:a.getState,dispatch:function(e){return u(e)}};return c=t.map(function(e){return e(l)}),u=s.default.apply(void 0,c)(a.dispatch),i({},a,{dispatch:u})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var a=n(64),s=r(a)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),o={},i=0;r.length>i;i++){var a=r[i],s=e[a];"function"==typeof s&&(o[a]=n(s,t))}return o}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t&&t.type,r=n&&'"'+n+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if(void 0===r)throw Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===n(void 0,{type:o}))throw Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(e){for(var t=Object.keys(e),n={},r=0;t.length>r;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var s,u=Object.keys(n);try{i(n)}catch(e){s=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(s)throw s;for(var r=!1,i={},a=0;u.length>a;a++){var c=u[a],l=n[c],f=e[c],p=l(f,t);if(void 0===p){var d=o(c,t);throw Error(d)}i[c]=p,r=r||p!==f}return r?i:e}}t.__esModule=!0,t.default=a;var s=n(65),u=n(29),c=(r(u),n(66));r(c)},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);e.length>t;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){return e===t}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){for(var r=arguments.length,i=Array(r),a=0;r>a;a++)i[a]=arguments[a];return null!==n&&n.length===i.length&&i.every(function(e,r){return t(e,n[r])})||(o=e.apply(void 0,i)),n=i,o}}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+n+"]"))}return t}function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;t>o;o++)r[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),a=0;t>a;a++)o[a]=arguments[a];var s=0,u=o.pop(),c=i(o),l=e.apply(void 0,[function(){return s++,u.apply(void 0,arguments)}].concat(r)),f=function(e,t){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;r>i;i++)o[i-2]=arguments[i];var a=c.map(function(n){return n.apply(void 0,[e,t].concat(o))});return l.apply(void 0,n(a))};return f.resultFunc=u,f.recomputations=function(){return s},f.resetRecomputations=function(){return s=0},f}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;if("object"!=typeof e)throw Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=o,t.createSelectorCreator=a,t.createStructuredSelector=s;var u=t.createSelector=a(o)},function(e,t){"use strict";var n=function(e){return"/"===e.charAt(0)},r=function(e,t){for(var n=t,r=n+1,o=e.length;o>r;n+=1,r+=1)e[n]=e[r];e.pop()},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&n(e),s=t&&n(t),u=a||s;if(e&&n(e)?i=o:o.length&&(i.pop(),i=i.concat(o)),!i.length)return"/";var c=void 0;if(i.length){var l=i[i.length-1];c="."===l||".."===l||""===l}else c=!1;for(var f=0,p=i.length;p>=0;p--){var d=i[p];"."===d?r(i,p):".."===d?(r(i,p),f++):f&&(r(i,p),f--)}if(!u)for(;f--;f)i.unshift("..");!u||""===i[0]||i[0]&&n(i[0])||i.unshift("");var h=i.join("/");return c&&"/"!==h.substr(-1)&&(h+="/"),h};e.exports=o},function(e,t){e.exports=function(e){"undefined"!=typeof execScript?execScript(e):eval.call(null,e)}},function(e,t,n){n(197)(n(178))},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t){/*! npm.im/supports-webp */
"use strict";var n=document.createElement("canvas");n.width=n.height=1;var r=n.toDataURL&&0===n.toDataURL("image/webp").indexOf("data:image/webp");e.exports=r},function(e,t,n){(function(t){"use strict";e.exports=n(202)(t||window||this)}).call(t,function(){return this}())},function(e,t){"use strict";e.exports=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}},function(e,t){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if(Array.isArray(t))return Array.isArray(r)&&t.length===r.length&&t.every(function(t,n){return e(t,r[n])});var o=void 0===t?"undefined":n(t),i=void 0===r?"undefined":n(r);if(o!==i)return!1;if("object"===o){var a=t.valueOf(),s=r.valueOf();if(a!==t||s!==r)return e(a,s);var u=Object.keys(t),c=Object.keys(r);return u.length===c.length&&u.every(function(n){return e(t[n],r[n])})}return!1};t.default=r},function(e,t,n){e.exports=n(206)},function(e,t){!function(t){"use strict";var n=-1,r={onVisible:function(e){var t=r.isSupported();if(!t||!r.hidden())return e(),t;var n=r.change(function(t,o){r.hidden()||(r.unbind(n),e())});return n},change:function(e){if(!r.isSupported())return!1;n+=1;var t=n;return r._callbacks[t]=e,r._listen(),t},unbind:function(e){delete r._callbacks[e]},afterPrerendering:function(e){var t=r.isSupported(),n="prerender";if(!t||n!=r.state())return e(),t;var o=r.change(function(t,i){n!=i&&(r.unbind(o),e())});return o},hidden:function(){return!(!r._doc.hidden&&!r._doc.webkitHidden)},state:function(){return r._doc.visibilityState||r._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!r._doc.visibilityState&&!r._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(e){var t=r.state();for(var n in r._callbacks)r._callbacks[n].call(r._doc,e,t)},_listen:function(){if(!r._init){var e="visibilitychange";r._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){r._change.apply(r,arguments)};r._doc.addEventListener?r._doc.addEventListener(e,t):r._doc.attachEvent(e,t),r._init=!0}}};void 0!==e&&e.exports?e.exports=r:t.Visibility=r}(this)},function(e,t,n){!function(t){"use strict";var r=-1,o=function(e){return e.every=function(t,n,o){e._time(),o||(o=n,n=null),r+=1;var i=r;return e._timers[i]={visible:t,hidden:n,callback:o},e._run(i,!1),e.isSupported()&&e._listen(),i},e.stop=function(t){return!!e._timers[t]&&(e._stop(t),delete e._timers[t],!0)},e._timers={},e._time=function(){e._timed||(e._timed=!0,e._wasHidden=e.hidden(),e.change(function(){e._stopRun(),e._wasHidden=e.hidden()}))},e._run=function(n,r){var o,i=e._timers[n];if(e.hidden()){if(null===i.hidden)return;o=i.hidden}else o=i.visible;var a=function(){i.last=new Date,i.callback.call(t)};if(r){var s=new Date,u=s-i.last;o>u?i.delay=setTimeout(function(){i.id=setInterval(a,o),a()},o-u):(i.id=setInterval(a,o),a())}else i.id=setInterval(a,o)},e._stop=function(t){var n=e._timers[t];clearInterval(n.id),clearTimeout(n.delay),delete n.id,delete n.delay},e._stopRun=function(t){var n=e.hidden(),r=e._wasHidden;if(n&&!r||!n&&r)for(var o in e._timers)e._stop(o),e._run(o,!n)},e};void 0!==e&&e.exports?e.exports=o(n(205)):o(t.Visibility)}(window)}]))});
//# sourceMappingURL=onfido.min.js.map